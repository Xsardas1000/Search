6
1
0
2

 
r
a

 

M
0
1

 
 
]
T
C
h
t
a
m

.

[
 
 

1
v
1
5
3
3
0

.

3
0
6
1
:
v
i
X
r
a

Convex spaces, aï¬ƒne spaces, and
commutants for algebraic theories

Rory B. B. Lucyshyn-Wrightâˆ—

Mount Allison University, Sackville, New Brunswick, Canada

Abstract

Certain axiomatic notions of aï¬ƒne space over a ring and convex space over a pre-
ordered ring are examples of the notion of T -algebra for an algebraic theory T in the
sense of Lawvere. Herein we study the notion of commutant for Lawvere theories that
was deï¬ned by Wraith and generalizes the notion of centralizer clone. We focus on the
Lawvere theory of left R-aï¬ƒne spaces for a ring or rig R, proving that this theory can
be described as a commutant of the theory of pointed right R-modules. Further, we
show that for a wide class of rigs R that includes all rings, these theories are commu-
tants of one another in the full ï¬nitary theory of R in the category of sets. We deï¬ne
left R-convex spaces for a preordered ring R as left aï¬ƒne spaces over the positive part
R+ of R. We show that for any ï¬rmly archimedean preordered algebra R over the
dyadic rationals, the theories of left R-convex spaces and pointed right R+-modules
are commutants of one another within the full ï¬nitary theory of R+ in the category of
sets.

1 Introduction

In 1963, Lawvere [3] introduced an elegant approach to Birkhoï¬€â€™s universal algebra
through category theory. Therein, an algebraic theory or Lawvere theory is by deï¬nition
a category T with a denumerable set of objects T 0, T 1, T 2, ... in which T n is an n-th
power of the object T = T 1, and a T -algebra is a functor A : T â†’ Set that is valued
in the category of sets and preserves ï¬nite powers. We call |A| = A(T ) the carrier
of A, and we say that A is normal if A sends the powers T n in T to the canonical
n-th powers |A|n in Set (2.4). T -algebras and the natural transformations between
them constitute a category T -Alg with an equivalent full subcategory consisting of all

a Mount Allison University Research Stipend, and, earlier, an NSERC Postdoctoral Fellowship.

âˆ—The author gratefully acknowledges ï¬nancial support in the form of an AARMS Postdoctoral Fellowship,
â€ Keywords: convex space; convex module; aï¬ƒne space; aï¬ƒne module; commutant; centralizer clone;
commutation; algebraic theory; Lawvere theory; universal algebra; ring; rig; semiring; preordered ring;
ordered ring; module; monad; commutative theory; semilattice; matrix; Kronecker product
â€¡2010 Mathematics Subject Classiï¬cation: 18C10, 18C15, 18C20, 18C05, 08A62, 08B99, 08C05, 52A01,
52A05, 51N10, 16B50, 16B70, 16D10, 16D90, 16W80, 13J25, 13C99, 15A27, 15A69, 15A99, 15B51, 06A11,
06A12, 06F25

1

normal T -algebras (2.5). The morphisms Ï‰ : T n â†’ T in a Lawvere theory T may
be called abstract operations, and the mappings A(Ï‰) : |A|n â†’ |A| associated to these
by a given T -algebra A are then called concrete operations. For convenience, we can
take the objects T n of T to be just the ï¬nite cardinals n to which they correspond
bijectively.
By a (normal) faithful representation of a Lawvere theory T we mean a normal
T -algebra R : T â†’ Set that is faithful as a functor. Writing simply R for the carrier
of R, such a faithful representation presents T as a subtheory T (cid:44)â†’ SetR of a larger
theory SetR called the full ï¬nitary theory of R in Set, consisting of all the mappings
between the n-th powers Rn of the set R. Such subtheories are essentially the concrete
clones that appear in universal algebra, as contrasted with the (a priori) more general
abstract clones of Hall, which correspond to arbitrary Lawvere theories.
One of the chief objectives of this paper is to study a phenomenon sometimes
exhibited by a faithfully represented Lawvere theory T (cid:44)â†’ SetR, wherein the set
R carries the structure of an S -algebra for some other Lawvere theory S and the
mappings Rn â†’ Rm that lie within the subtheory T (cid:44)â†’ SetR are precisely those that
are S -homomorphisms with respect to the induced S -algebra structures on Rn and
Rm, so that

T (n, m) âˆ¼= S -Alg(Rn, Rm) .

We will in fact encounter situations in which, moreover, the S -algebra structure on R
is also a faithful representation of S with the same property, such that the subtheory
S (cid:44)â†’ SetR consists of exactly those mappings Rn â†’ Rm that are T -homomorphisms.
In symbols

S (n, m) âˆ¼= T -Alg(Rn, Rm) .

It is precisely this curious â€˜dualityâ€™ of certain pairs of theories T and S that we seek
to understand.

As a ï¬rst example, let us consider the theories T and S of left and right R-modules,
respectively, for a given ring R (or even just a rig or semiring, 2.8). Concretely, T is the
category MatR whose objects are the natural numbers n and whose morphisms n â†’ m
are mÃ— n-matrices with entries in R, with composition given by matrix multiplication.
The category of normal T -algebras is isomorphic to the category R-Mod of left R-
modules (2.8). Similarly, S -algebras for S = MatRop are right R-modules. Given a
left R-module A, the corresponding normal T -algebra T â†’ Set is given on objects by
n (cid:55)â†’ An and associates to each m Ã— n-matrix w âˆˆ RmÃ—n the mapping An â†’ Am that
sends a column vector x âˆˆ An to the matrix product wx âˆˆ Am. A normal T -algebra is
uniquely determined by its carrier and its values on morphisms of the form w : n â†’ 1
in T , i.e. on row vectors w âˆˆ R1Ã—n, for which the associated maps

n(cid:88)

An â†’ A ,

x (cid:55)â†’ wx =

wixi

(1.0.i)

implement the taking of left R-linear combinations.
In particular, R itself is a left
R-module and so determines a normal T -algebra R : T â†’ Set that is in fact a faithful
representation. Similarly, R is a right R-module, so we have faithful representations

i=1

T (cid:44)â†’ SetR

S (cid:44)â†’ SetR .

2

Thus viewing T as a subtheory of SetR, we ï¬nd that the mappings Rn â†’ Rm that lie in
T are precisely the right R-linear maps (i.e. the S -homomorphisms) whereas the map-
pings Rn â†’ Rm in S are precisely the left R-linear maps (i.e. the T -homomorphisms)
(6.5).

This peculiar duality of pairs of theories T , S can be understood through the
notion of commutant for Lawvere theories that was brieï¬‚y introduced by Wraith in his
lecture notes on algebraic theories [11] but was not studied to any substantial extent
therein. Given a set R, a pair of mappings Âµ : Rn â†’ Rm and Î½ : Rn(cid:48) â†’ Rm(cid:48)
is said to
commute if the associated mappings

Ã¥
Ã¥

Ã‡
Ã‡

Âµ âˆ— Î½ =

Âµ Ëœâˆ— Î½ =

RnÃ—n(cid:48) âˆ¼= (Rn)n(cid:48) Âµn(cid:48)âˆ’âˆ’â†’ (Rm)n(cid:48) âˆ¼= (Rn(cid:48)

)m Î½mâˆ’âˆ’â†’ (Rm(cid:48)

)m âˆ¼= RmÃ—m(cid:48)

RnÃ—n(cid:48) âˆ¼= (Rn(cid:48)

)n Î½nâˆ’â†’ (Rm(cid:48)

)n âˆ¼= (Rn)m(cid:48) Âµm(cid:48)âˆ’âˆ’â†’ (Rm)m(cid:48) âˆ¼= RmÃ—m(cid:48)

are equal. Given a subtheory T (cid:44)â†’ SetR, the commutant of T in SetR is, by deï¬nition,
the subtheory T âŠ¥ (cid:44)â†’ SetR consisting of those mappings Âµ : Rn â†’ Rm that commute
with every mapping Î½ : Rn(cid:48) â†’ Rm(cid:48)
in T . A subtheory T (cid:44)â†’ SetR is equivalently a
theory T admitting a faithful representation with carrier R, and the key observation
is now that a mapping Âµ : Rn â†’ Rn lies in the commutant T âŠ¥ if and only if Âµ is a
T -homomorphism (5.9); i.e.,

T âŠ¥(n, m) = T -Alg(Rn, Rm) .

Hence the â€˜dualityâ€™ observed above in pairs of faithfully represented theories T , S is
equivalently the statement that S and T are commutants of one another within the
full ï¬nitary theory SetR of a set R; in symbols,

T âˆ¼= S âŠ¥

T âŠ¥ âˆ¼= S .

In particular, given a ring or rig R, the theories MatR and MatRop of left and right
R-modules, respectively, are commutants of one another within SetR:

âˆ¼= (MatRop)âŠ¥

MatR

(MatR)âŠ¥ âˆ¼= MatRop .

Wraithâ€™s notion of commutant applies not only to subtheories T of the full ï¬nitary
theory SetR of a set R but also to subtheories T (cid:44)â†’ U of an arbitrary Lawvere theory
U . Indeed, in analogy with the above one can again deï¬ne the notion of commutation
of morphisms in U (4.3), and the commutant
T âŠ¥ (cid:44)â†’ U

of T in U is then deï¬ned in the analogous way (5.6). More generally, we can deï¬ne
A (cid:44)â†’ U of a morphism of Lawvere theories A : T â†’ U as the
the commutant T âŠ¥
commutant of its image. The commutant is then characterized by a universal prop-
erty, namely that a morphism of theories B : S â†’ U factors uniquely through the
A (cid:44)â†’ U if and only if A commutes with B in a suitable sense (5.1).
commutant T âŠ¥
Deï¬ning a theory over U as a theory T equipped with a morphism A : T â†’ U , it

3

follows that the operation (âˆ’)âŠ¥ on theories over U gives rise to an adjunction between
the category of theories over U and its opposite (6.1), and this adjunction restricts
to a Galois connection on subtheories of U . Since a normal T -algebra R : T â†’ Set
is equivalently described as a morphism R : T â†’ SetR into the full ï¬nitary theory
of its carrier R, we recover the commutant of a faithful representation as a special
case. In particular, when T is the subtheory of SetR generated by a speciï¬ed family of
ï¬nitary operations on a given set R, we recover the notion of centralizer clone that has
been studied to a limited extent in the literature on universal algebra. For example,
the paper [10] characterizes those abstract clones or Lawvere theories T for which
there exists a set R equipped with a family of operations whose centralizer clone is
isomorphic to T .

The present paper comprises both a general study of the notion of commutant for
Lawvere theories and also an in-depth study of certain speciï¬c examples of commutants.
In particular, we prove several theorems concerning the theory of R-aï¬ƒne spaces for
a ring or rig R and, in particular, R-convex spaces for a preordered ring R. Several
authors have studied axiomatic notions of aï¬ƒne space over a ring or rig, and the
generality aï¬€orded by the use of a mere rig permits the consideration of the notion of
convex space as a special case; for example, see [9] and the references there. Whereas
a (left) R-module A is a set equipped with operations (1.0.i) that permit the taking of
linear combinations, a (left) R-aï¬ƒne space or (left) R-aï¬ƒne module is a set equipped
with operations (1.0.i) that permit the taking of aï¬ƒne combinations, i.e. those linear
i=1 wixi whose coeï¬ƒcients wi sum to 1. More precisely, a left R-aï¬ƒne

combinations(cid:80)n

space is by deï¬nition a normal T -algebra for a certain subtheory

T = Mataï¬€

R (cid:44)â†’ MatR

of the category of R-matrices, namely the subtheory consisting of all matrices in which
each row sums to 1. This way of deï¬ning the notion of R-aï¬ƒne space was given in
[4]. Letting R+ denote the rig of non-negative reals, R+-aï¬ƒne spaces are usually called
convex spaces, and R+-aï¬ƒne combinations are called convex combinations. This way
of deï¬ning convex spaces was given in [8].

We pursue answers to the following questions:
1. Does Mataï¬€

R arise as a commutant of some theory over the full ï¬nitary theory

SetR of R in Set?

2. What is the commutant of Mataï¬€

R in SetR?

We answer 1 in the aï¬ƒrmative for every rig R. Indeed, deï¬ning a pointed right R-
module as a right R-module M equipped with a chosen element âˆ— âˆˆ M , the category
of pointed right R-modules is isomorphic to the category of T -algebras for a Lawvere
theory T = Matâˆ—
Rop. The pointed right R-module (R, 1) determines a morphism
Matâˆ—
Rop can be considered as a theory over SetR, though not
in general a subtheory, and we show in 7.2 that

Rop â†’ SetR by which Matâˆ—

Mataï¬€
R

âˆ¼= (Matâˆ—

Rop)âŠ¥

4

as theories over SetR. Hence

the Lawvere theory of left R-aï¬ƒne spaces is the commutant of
the theory of pointed right R-modules when both are considered
as theories over the full ï¬nitary theory of R in Set.

Consequently Mataï¬€
Mataï¬€

R is its own double-commutant (Mataï¬€

R )âŠ¥âŠ¥ over SetR, so we say that
R is a saturated subtheory of SetR.
It is illustrative to note that in the case of the rig R+ one ï¬nds here a connection
to the Kakutani-Markov-Riesz representation theorem, since for each ï¬nite cardinal n
the resulting bijection Mataï¬€R+(n, 1) âˆ¼= (Matâˆ—
R+)âŠ¥(n, 1) is the correspondence between
probability measures on the ï¬nite set n (on the left-hand side) and 1-preserving R+-
+ â†’ R+ (on the right).
linear functionals Rn

With regard to question 2 it is natural to ask also whether Matâˆ—

Rop is the commutant
R over SetR. When R is a ring we show that this is indeed the case (9.2), so

of Mataï¬€
that

(Mataï¬€

R )âŠ¥ âˆ¼= Matâˆ—

Rop

(1.0.ii)

over SetR. Hence

if R is a ring, then the theories of left R-aï¬ƒne spaces and pointed
right R-modules are commutants of one another within the full
ï¬nitary theory of R in Set.

However for arbitrary rigs this is no longer true. For example, when R is the two-
element rig 2 = (2,âˆ¨, 0,âˆ§, 1), we show that (i) 2-modules are equivalently (bounded)
join semilattices (2.10), (ii) 2-aï¬ƒne spaces are unbounded join semilattices (i.e., idem-
potent commutative semigroups, 3.3), and (iii) the commutant in Set2 of the theory of
unbounded join semilattices is the theory of join semilattices with a top element (8.2).
Nevertheless, we show that (1.0.ii) does hold for many rigs other than rings. In
particular, we show that it holds for the rig R+ of non-negative reals (10.21), so that

the theory of convex spaces (over R) and the theory of pointed right
R+-modules are commutants of one another within the full ï¬nitary
theory of R+ in Set.

(1.0.iii)

This result shows that the connection between convex spaces and pointed R+-modules
that is implicit in the integral representation of probability measures is in fact a perfect
â€˜dualityâ€™ of algebraic theories. Indeed, one of the purposes of the present paper is to
provide an algebraic basis for a forthcoming study of measure and distribution monads
canonically determined by such dualities in the enriched context [5].

In order to generalize this result, we study aï¬ƒne spaces over rigs of the form

R+ = {r âˆˆ R | r (cid:62) 0}

where R is a preordered ring (3.4). Preordered and partially ordered rings have been
studied at various levels of generality in the literature on ordered algebra, and they
can be deï¬ned equivalently as rings R equipped with an arbitrary subrig R+ (cid:44)â†’ R.
The rigs that occur as the positive part R+ of some preordered ring R are precisely the
additively cancellative rigs (3.4).

5

Given a preordered ring R, we call left R+-aï¬ƒne spaces left R-convex spaces or left
R-convex modules. In 10.10 we establish a characterization of the class of all preordered
rings R for which the evident analogue of (1.0.iii) holds, and we then proceed to develop
suï¬ƒcient conditions that entail that a preordered ring R belongs to this class, as we
now outline.

Whereas the archimedean property for totally ordered ï¬elds R can be expressed
in several equivalent ways, certain of these statements become inequivalent when one
passes to arbitrary preordered rings R. In particular, we deï¬ne the notion of ï¬rmly
archimedean preordered ring (10.18), noting that a nonzero totally ordered ring is ï¬rmly
archimedean if and only if it is archimedean. We prove that if R is a ï¬rmly archimedean
preordered ring and 2 is invertible in the rig R+, then the relevant analogue of (1.0.iii)
holds (10.20). But 2 is invertible in R+ if and only if there exists a (necessarily unique)
morphism of preordered rings from the dyadic rationals D into R (10.13), so this result
can be stated as follows:

Let R be a ï¬rmly archimedean preordered algebra over the dyadic
rationals. Then the Lawvere theory of left R-convex spaces and the
Lawvere theory of pointed right R+-modules are commutants of one
another in the full ï¬nitary theory of R+ in Set.

In particular, this applies to (i) the rings R = R and R = D, (ii) the ring R of all
bounded real-valued functions on a set, or any sub-D-algebra thereof, and in particular
(iii) the ring R = C(X) of all continuous functions on a compact space X.
We begin in Â§2 with a survey of basic material concerning Lawvere theories, and
we discuss several examples of Lawvere theories for use in the sequel. In Â§3 we deï¬ne
the Lawvere theory of left R-aï¬ƒne spaces for a rig R and the Lawvere theory of left
R-convex spaces for a preordered ring R. In Â§4 we provide a self-contained treatment
of the notion of commutation of morphisms in a Lawvere theory T by studying in
detail the ï¬rst and second Kronecker products of morphisms in T (4.3). Noting that
these Kronecker products in T depend on a choice of binary product projections in
the category of ï¬nite cardinals (4.1), we show that one speciï¬c such choice enables a
rigourous proof that the ï¬rst Kronecker product of morphisms in the category MatR
of matrices over a rig R is the classical Kronecker product of matrices (4.4), as we are
not aware of any statement or proof of this in the literature. In Â§5 we study the notion
of commutant of a morphism of Lawvere theories A : T â†’ U , proving that it can be
deï¬ned equivalently as the full ï¬nitary theory of A in the category of T -algebras in
U (5.9), and we treat the example of the theory of left R-modules for a rig R (5.14).
In Â§6 we show that the passage from a theory T over U to its commutant is a â€˜self-
adjointâ€™ contravariant functor (6.1), and we study the notions of saturated and balanced
subtheory (6.2). In Â§7, 8, 9, 10 we derive our main results concerning the theories of
R-aï¬ƒne and R-convex spaces and their commutants (7.2, 8.2, 9.2, 10.10, 10.17, 10.20).

2 Lawvere theories, their algebras, and several examples

2.1 (Lawvere theories). A Lawvere theory is a small category T equipped with
an identity-on-objects functor Ï„ : FinCardop â†’ T that preserves ï¬nite powers, where

6

FinCard is the full subcategory of Set consisting of the ï¬nite cardinals. We may
identify ï¬nite cardinals with natural numbers, so that ob T = N is the set of all natural
numbers. When we want to emphasize that a natural number n is to be treated as an
object of T , we will sometimes denote it by Ï„ (n).

Since FinCard has ï¬nite copowers, its opposite FinCardop has ï¬nite powers and
hence every Lawvere theory T has ï¬nite powers, furnished by Ï„ . In particular, each
ï¬nite cardinal n is an n-th copower of 1 in FinCard, so n is an n-th power of 1 in T .
In symbols, n = Ï„ (n) = Ï„ (1)n in T . For ease of notation we will sometimes write
T = Ï„ (1) and correspondingly write T n for the object n of T . Choosing designated
n-th copower cocones (Î¹i : 1 â†’ n)n
i=1 in FinCard in the evident way, we thus obtain
designated n-th power cones (Ï€i = Ï„ (Î¹i) : T n â†’ T ) in T . Moreover, Ï„ can then
be characterized as the functor T (âˆ’) : FinCardop â†’ T that is given on objects by
n (cid:55)â†’ T n and sends each mapping f : m â†’ n in FinCard to the induced morphism
T f : T n â†’ T m.
We say that an object C of a category C has designated ï¬nite powers if it
is equipped with a speciï¬ed choice of n-th power Cn in C for each n âˆˆ N. We say
that these designated ï¬nite powers of C are standard if C1 = C, with the identity
morphism 1C as the designated projection Ï€1 : C1 â†’ C. For example, the designated
n-th powers of Ï„ (1) in a Lawvere theory (T , Ï„ ) are standard, since the designated
morphism Î¹1 : 1 â†’ 1 in FinCard is necessarily the identity. It shall be convenient to ï¬x
a choice of standard designated ï¬nite powers Ï„ (m)n of each of the objects Ï„ (m) = m of
T , and we may assume that this choice of powers extends the basic choice Ï„ (1)n = n
in the case that m = 1.

In fact, a Lawvere theory is equivalently given by a small category T with objects
ob T = N in which each object n carries the structure of an n-th power of 1, such that
these designated n-th powers of 1 are standard1.

Notation 2.2. We will use each of the following notations interchangeably to denote
a given Lawvere theory:

Ã„

Ã¤

T ,

(T , Ï„ ),

T , T (âˆ’)

,

(T , T ) .

We regard the last notation as a construct for naming both T and the object T = 1
of T .

2.3 (The category of Lawvere theories). Given Lawvere theories T and U , a
morphism M : T â†’ U is a functor that commutes with the associated functors
FinCardop â†’ T and FinCardop â†’ U . Thus Lawvere theories are the objects of a
category Th. Observe that FinCardop is a Lawvere theory, when equipped with its
identity functor, and hence is an initial object of Th. A morphism of theories may
be equivalently deï¬ned as a functor that strictly preserves the designated n-th power
projections Ï€i : n â†’ 1 (and so, in particular, is identity-on-objects). Given a Lawvere
theory U , a subtheory of U is a Lawvere theory T equipped with a morphism
T (cid:44)â†’ U that is faithful as a functor. Subtheories are the objects of a full subcategory

1Many authors drop the latter condition, with the immaterial consequence that a Lawvere theory T may

then carry an irrelevant speciï¬ed automorphism Ï€1 : 1 â†’ 1 of 1.

7

SubTh(T ) of the slice category Th/U , and SubTh(T ) is clearly a preordered set.
A concrete subtheory is a subtheory T (cid:44)â†’ U for which the associated mapping
mor T â†’ mor U is simply the inclusion of a subset mor T âŠ† mor U . Clearly every
subtheory of U is isomorphic to a concrete subtheory. A concrete subtheory of (U , U )
is equivalently given by a subset T âŠ† mor U such that (i) T contains the designated
projections Ï€i : U n â†’ U , (ii) T is closed under composition, and (iii) given a family
of morphisms {Ï‰i : U n â†’ U | i = 1, ..., m} âŠ† T , the induced morphism Ï‰ : U n â†’ U m
lies in T .

2.4 (T -algebras). Given a Lawvere theory (T , T ) and a category C , a T -algebra in
C is a functor A : T â†’ C that preserves ï¬nite powers. We call |A| := A(T ) the carrier
of A. Hence for each natural number n, the object A(T n) is simply an n-th power |A|n
of the carrier |A| in C . However, when C has designated ï¬nite powers of each of its
objects, the n-th power A(T n) = |A|n need not be the designated n-th power. Assuming
that C has standard designated ï¬nite powers (2.1), we therefore deï¬ne a normal T -
algebra to be a functor A : T â†’ C that sends the designated n-th power projections
Ï€i : T n â†’ T in T to the designated n-th power projections Ï€i : |A|n â†’ |A| in C . Since
a functor on T preserves ï¬nite powers as soon as it preserves ï¬nite powers of T , every
normal T -algebra is necessarily a T -algebra. Observe that a morphism of Lawvere
theories A : (T , T ) â†’ (U , U ) is equivalently deï¬ned as a normal T -algebra in U with
carrier A(T ) = U . With this in mind, note also that a normal T -algebra A : T â†’ C
is uniquely determined by its carrier and its components An,1 : T (n, 1) â†’ C (|A|n, |A|),
n âˆˆ N. Related to this, observe that a morphism A : T â†’ U is an isomorphism (resp.
a subtheory embedding) if and only if An,1 is an isomorphism (resp. a monomorphism)
in Set for each n âˆˆ N.
2.5 (The category of T -algebras). Letting (T , T ) be a Lawvere theory, observe
that T -algebras in a given category C are the objects of a full subcategory T -AlgC
of the functor category [T , C ]. We call natural transformations between T -algebras
T -homomorphisms. When C has standard designated ï¬nite powers, we denote by
T -Alg!
C the full subcategory of T -Alg with objects all normal T -algebras in C . In
fact we obtain an equivalence of categories

T -Alg!

C (cid:39) T -AlgC

between normal T -algebras and arbitrary T -algebras; this is proved in general context
in [6, 5.14].
There is a canonical functor |âˆ’| = EvT : T -AlgC â†’ C given by evaluation at T , and
in fact this functor is faithful. Indeed, given a T -homomorphism Ï† : A â†’ B, we know
that for each n âˆˆ N, the morphisms A(Ï€i) : A(T n) â†’ A(T ) = |A| present A(T n) as an
n-th power |A|n of |A| = A(T ) in C , and similarly for B, and the naturality of Ï† entails
that the component Ï†T n : A(T n) â†’ B(T n) is simply the morphism f n : |A|n â†’ |B|
induced by f := Ï†T : |A| â†’ |B|. Hence the mapping EvT : T -AlgC (A, B) â†’ C (|A|, |B|)
is injective. In fact, via this injective map we can and will identify T -AlgC (A, B) with

8

the subset of C (|A|, |B|) consisting of all morphisms f : |A| â†’ |B| such that

|A|n

f n /

/ |B|n

A(Âµ)

|A|m

B(Âµ)

/ |B|m

f m

(2.5.i)

commutes for every morphism Âµ : T n â†’ T m in T . Hence we say that a morphism
f : |A| â†’ |B| is a T -homomorphism if it satisï¬es this condition. To assert merely
that the square (2.5.i) commutes for a particular morphism Âµ : T n â†’ T m, we say that
f preserves Âµ (relative to A and B). Since each such morphism Âµ is induced by
a family of morphisms (Âµi : T n â†’ T )m
i=1, it follows that f preserves Âµ iï¬€ f preserves
each of the Âµi. Therefore f is a T -homomorphism iï¬€ f preserves every morphism of
the form Ï‰ : T n â†’ T in T .
2.6 (Algebraic categories). We shall often call T -algebras in Set simply T -algebras.
We write simply T -Alg for the category of T -algebras in Set and T -Alg! for its
equivalent full subcategory consisting of normal T -algebras. We say that a func-
tor G : A â†’ Set is strictly ï¬nitary-algebraic (or that A is strictly ï¬nitary-
algebraic over Set, via G) if there exists a Lawvere theory T and an isomorphism
(A , G) âˆ¼= (T -Alg!, |âˆ’|) in the slice category CAT/Set.
It is well known that G is
strictly ï¬nitary-algebraic if and only if G is strictly monadic for a ï¬nitary monad T on
Set, meaning that (i) G has a left adjoint F , (ii) the endofunctor T = GF preserves
ï¬ltered colimits, and (iii) the comparison functor A â†’ Set
T
for the associated monad
T = (T, Î·, Âµ) is an isomorphism2. The associated theory T is obtained by forming
the Kleisli category SetT and deï¬ning T to be the full subcategory of Setop
T with ob-
jects the ï¬nite cardinals, so that T (n, m) = Set(m, T (n)) âˆ¼= (T (n))m. Note then that
T (n, m) âˆ¼= A (F m, F n), with composition as in A , so that we have a fully faithful
functor T op (cid:26) A . The associated isomorphism A â†’ T -Alg! sends each object A of
A to a normal T -algebra A : T â†’ Set that has carrier GA and associates to each
abstract operation Ï‰ âˆˆ T (n, 1) the mapping AÏ‰ : (GA)n â†’ GA deï¬ned as follows.
Regarding n as a cardinal, we have an associated object F n of A and an isomorphism
A (F n,âˆ’) âˆ¼= Set(n, Gâˆ’) = (Gâˆ’)n. Hence each element a = (a1, ..., an) âˆˆ (GA)n de-
termines a corresponding morphism a(cid:93) : F n â†’ A in A and an underlying mapping
Ga(cid:93) : GF n â†’ GA. Recalling that GF n = T n = T (n, 1), the associated mapping
AÏ‰ : (GA)n â†’ GA is given by

(AÏ‰)(a) = (Ga(cid:93))(Ï‰) .

2.7 (Varieties of algebras). Let us now recall some points concerning the relation
of Lawvere theories to classical universal algebra. Mac Lane [7, V.6, p. 120], for
example, gives a concise introduction to the basic framework of classical universal
algebra, deï¬ning the category (cid:104)â„¦, E(cid:105)-Alg of (cid:104)â„¦, E(cid:105)-algebras for what he calls simply a
type (cid:104)â„¦, E(cid:105), where â„¦ and E are suitable collections of formal operations and equations,

2Indeed, this follows from [6, 4.2, 11.3, 11.8, 11.14], noting that the isomorphisms in 11.14 there are

isomorphisms in CAT/Set when V = Set.

9





/
respectively. Any category of the form (cid:104)â„¦, E(cid:105)-Alg is called a variety of ï¬nitary
algebras. Theorem 1 of [7, VI.8] shows that the forgetful functor |âˆ’| : (cid:104)â„¦, E(cid:105)-Alg â†’
Set is strictly monadic, and, as noted in [7, IX.1, p. 209], |âˆ’| creates ï¬ltered colimits,
so the induced monad on Set is ï¬nitary. Therefore |âˆ’| : (cid:104)â„¦, E(cid:105)-Alg â†’ Set is strictly
ï¬nitary-algebraic. In fact, it is well-known (and now straightforward to prove) that a
functor G : A â†’ Set is strictly ï¬nitary-algebraic if and only if the object (A , G) of
CAT/Set is isomorphic to ((cid:104)â„¦, E(cid:105)-Alg, |âˆ’|) for some type (cid:104)â„¦, E(cid:105), though we shall not
make use of this fact.

Example 2.8 (Left R-modules). The category R-Mod of left R-modules for a ring
R is a variety of ï¬nitary algebras and so is isomorphic to the category of normal
T -algebras T -Alg! for a Lawvere theory T . By 2.6, the associated theory T has
T (n, m) = (|R|n)m since Rn is the free R-module on n generators, where we write
|R| for the underlying set of R. By identifying (|R|n)m with the set |R|mÃ—n of m Ã— n-
matrices, we can conveniently describe composition in T as matrix multiplication.
Hence T is the category MatR of R-matrices, whose objects are natural numbers and
whose morphisms w : n â†’ m are m Ã— n-matrices with entries in R.
The normal T -algebra MatR â†’ Set corresponding to a left R-module M necessarily
sends each object n to the n-th power |M|n of the underlying set |M| of M , and we
identity |M|n with the set |M|nÃ—1 of n-element column vectors with entries in M .
Given an m Ã— n-matrix w : n â†’ m, the associated mapping |M|nÃ—1 â†’ |M|mÃ—1 sends a
column vector x to the matrix product wx, whose entries are the R-linear combinations

(wx)j =(cid:80)n

i=1 wjixi in M .

This all applies equally to the case where R is merely a rig (or semiring), i.e. a set
R with two monoid structures (R, +, 0) and (R,Â·, 1) with + commutative, such that
Â· : R Ã— R â†’ R preserves + and 0 in each variable separately.
Recall that we chose to regard (|R|n)m as the set of mÃ— n-matrices |R|mÃ—n, whereas
we could have considered nÃ— m-matrices instead. This line of inquiry is pursued below
in the course of our discussion on commutants (5.13).

Example 2.9 (The Lawvere theory of commutative k-algebras). Given a com-
mutative ring k, the category k-CAlg of commutative k-algebras is a variety of ï¬ni-
tary algebras and so is isomorphic to the category T -Alg! of normal T -algebras for
a Lawvere theory T . Since the polynomial ring k[x1, ..., xn] is the free commutative
k-algebra on n-generators, we deduce by 2.6 that T (n, 1) = k[x1, ..., xn], and more
generally T (n, m) = (T (n, 1))m is the set of m-tuples of n-variable polynomials.

Example 2.10 (The Lawvere theory of semilattices). A (bounded) join semi-
lattice can be deï¬ned either as a partially ordered set with ï¬nite joins, or, equivalently,
as a commutative monoid in which every element is idempotent. Hence the category
SLatâˆ¨ of join semilattices (and their homomorphisms) is a variety of ï¬nitary algebras.
The powerset 2n of a ï¬nite cardinal n is the free join semilattice on n generators, namely
the singletons {i} with i âˆˆ n. By 2.6, SLatâˆ¨ is therefore isomorphic to the category
T -Alg! of normal T -algebras for a Lawvere theory T with T (n, m) = (2n)m = 2mÃ—n,
and we ï¬nd that composition in T is given by matrix multiplication when we view
2 = {0, 1} as a rig (2.8) with underlying additive monoid (2,âˆ¨, 0) and multiplicative

10

monoid (2,âˆ§, 1). Hence T = Mat2 is the category of 2-matrices, and SLatâˆ¨ = 2-Mod,
so that join semilattices are the same as 2-modules by 2.8.

Exchanging joins for meets, the category SLatâˆ§ of (bounded) meet semilattices
is isomorphic to SLatâˆ¨, via an isomorphism that commutes with the forgetful functors
to Set.

Deï¬nition 2.11 (The full ï¬nitary theory of an object). If a given object C of
a locally small category C has standard designated ï¬nite powers Cn, n âˆˆ N, then we
obtain a Lawevere theory CC, called the full ï¬nitary theory of C in C , with

CC(n, m) = C (Cn, Cm),

n, m âˆˆ ob CC = N

such that the mapping N â†’ ob C , n (cid:55)â†’ Cn, extends to an identity-on-homs functor
CC (cid:26) C , which is evidently a CC-algebra in C with carrier C.
In particular, given a Lawvere theory (T , T ), any T -algebra A : T â†’ C endows
its carrier |A| = A(T ) with standard designated ï¬nite powers |A|n = A(T n) (2.4), with
respect to which we can form the full ï¬nitary theory of |A| in C , which we shall denote
by CA. The given T -algebra A then factors uniquely as

A(cid:48)

T

A

/ CA

C

where A(cid:48) is a morphism of Lawvere theories, given on homs just as A. By abuse of
notation, we write simply A to denote the morphism A(cid:48).
In the case that C has standard designated ï¬nite powers, morphisms of Lawvere
theories T â†’ CC into the full ï¬nitary theory of an object C of C are evidently in
bijective correspondence with normal T -algebras in C with carrier C.

Example 2.12 (The Lawvere theory of Boolean algebras). The category Bool
of Boolean algebras is a variety of ï¬nitary algebras and so is isomorphic to the category
T -Alg! of normal T -algebras for a Lawvere theory T . In fact, it is well-known that
the morphism of theories T â†’ Set2 determined by the Boolean algebra 2 = {0, 1} is
an isomorphism between T and the full ï¬nitary theory Set2 of 2 in Set. Indeed, this
follows from [3, III.1, Example 4].

3 Aï¬ƒne and convex spaces

3.1 (The aï¬ƒne core of a Lawvere theory). Every Lawvere theory (T , T ) has
a subtheory T aï¬€ (cid:44)â†’ T called the aï¬ƒne core of T [4, Â§3], consisting of all those
morphisms Ï‰ : T n â†’ T m for which the composite

(1T ,...,1T )

âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’â†’ T n Ï‰âˆ’â†’ T m

T

equals (1T , ..., 1T ) : T â†’ T m. We say that T is aï¬ƒne if T equals its aï¬ƒne core.

11

!
!
/



3.2 (Aï¬ƒne spaces over a ring or rig). Let R be a ring, or more generally, a rig.
Recall that the category of R-matrices MatR is the Lawvere theory of left R-modules
(2.8). By deï¬nition, a (left) R-aï¬ƒne space (or (left) R-aï¬ƒne module) is a normal
T -algebra for the aï¬ƒne core T = Mataï¬€
R of MatR. Hence R-aï¬ƒne spaces are the
R -Alg!. Since the projection morphisms Ï€i : n â†’ 1
objects of a category R-Aï¬€ = Mataï¬€
in MatR are the standard basis vectors for R1Ã—n, one deduces that the aï¬ƒne part Mataï¬€
R
consists of the R-matrices in which each row sums to 1. By 2.4, an R-aï¬ƒne space E
with (cid:80)n
is therefore given by a set E (the carrier) equipped with a suitable family of mappings
R (n, 1) â†’ Set(En, E) that associate to each n-element row vector w = [w1, ..., wn]
we write as(cid:80)n
Mataï¬€
i=1 wi = 1 a mapping En â†’ E whose value at a given column vector x âˆˆ En
i=1 wixi and call a (left) R-aï¬ƒne combination of the xi. For example,
R (cid:44)â†’ MatR induces a functor R-Mod â†’ R-Aï¬€,
since the morphism of theories Mataï¬€
every left R-module M carries the structure of a left R-aï¬ƒne space. The morphisms
in the category of (left) R-aï¬ƒne spaces R-Aï¬€ are (left) R-aï¬ƒne maps, i.e. those
mappings that preserve left R-aï¬ƒne combinations.

Example 3.3 (Unbounded semilattices as aï¬ƒne spaces). An unbounded join
semilattice may be deï¬ned as a poset in which every pair of elements has a join or,
equivalently, as a commutative semigroup in which every element is idempotent. The
set 2n\{0} of all nonempty subsets of a given ï¬nite cardinal n is closed under binary
joins in the semilattice 2n (2.10) and so carries the structure of an unbounded join
semilattice, and the singletons {i} with i âˆˆ n exhibit 2n\{0} as the free unbounded
join semilattice on n generators. The category USLatâˆ¨ of unbounded semilattices
and their homomorphisms is a variety of ï¬nitary algebras and so is isomorphic to the
category of normal T -algebras for a Lawvere theory T with T (n, m) = (2n\{0})m.
The latter set may be identiï¬ed with the subset of 2mÃ—n consisting of all mÃ—n-matrices
in which each row is nonzero, whereupon we deduce that T is a subtheory of the theory
Mat2 of modules over the rig (2,âˆ¨, 0,âˆ§, 1), i.e. (bounded) semilattices (2.10). Indeed,
2 of aï¬ƒne spaces over the rig (2,âˆ¨, 0,âˆ§, 1). Hence
T is precisely the theory Mataï¬€
USLatâˆ¨ âˆ¼= 2-Aï¬€, i.e. unbounded semilattices are the same as aï¬ƒne spaces over the rig
(2,âˆ¨, 0,âˆ§, 1).

3.4 (Preordered abelian groups and preordered rings). By deï¬nition, a pre-
ordered commutative monoid is a commutative monoid object in the cartesian
monoidal category Ord of preordered sets and monotone maps. Preordered commuta-
tive monoids are the objects of a category CMon(Ord), the category of commutative
monoids in Ord. We say that a preordered commutative monoid M is a preordered
abelian group if its underlying commutative monoid (in Set) is an abelian group.
Note then that the negation map âˆ’ : M â†’ M is not monotone but rather is order-
reversing. Preordered abelian groups form a full subcategory Ab(cid:54) of the category of
preordered commutative monoids.
It is well-known that the notion of preordered abelian group can be equivalently
deï¬ned as an abelian group M equipped with a submonoid M+ (cid:44)â†’ M . Indeed, given
a preordered abelian group M , one takes M+ = {m âˆˆ M | 0 (cid:54) m}, and conversely,
given a submonoid M+ of an abelian group M one deï¬nes a preorder (cid:54) on M by
m (cid:54) m(cid:48) â‡” m(cid:48) âˆ’ m âˆˆ M+. It is conventional to call M+ the positive part of M

12

despite the fact that 0 âˆˆ M+. Morphisms of preordered abelian groups can be described
equivalently as homomorphisms of the underlying abelian groups h : M â†’ N with the
property that h(M+) âŠ† N+.
The category Ab(cid:54) of preordered abelian groups is symmetric monoidal when we
deï¬ne the monoidal product M âŠ— N of preordered abelian groups M and N to be the
usual tensor product of abelian groups equipped with the submonoid (M âŠ— N )+ (cid:44)â†’
M âŠ— N generated by the pure symbols m âŠ— n with m âˆˆ M+, n âˆˆ N+. The unit object
is Z, with the natural order.

By deï¬nition, a preordered ring is a monoid in the monoidal category of pre-
ordered abelian groups Ab(cid:54). Equivalently, a preordered ring is a ring R equipped with
an arbitrary subrig R+ (cid:44)â†’ R. Note that any rig S that occurs as the positive part R+
of some preordered ring R is necessarily additively cancellative, meaning that the
commutative semigroup (S, +) is cancellative (i.e., s + t = s + u â‡’ t = u). Moreover,
the rigs that occur as positive parts of preordered rings are precisely the additively
cancellative rigs, since if S is additively cancellative then we can embed S into its ring
completion, mimicking the usual construction of Z from N.

Preordered rings are the objects of a category Ring(cid:54), the category of monoids in
the monoidal category Ab(cid:54), in which the morphisms are ring homomorphism that are
also monotone.

Deï¬nition 3.5 (Convex spaces over a preordered ring). Given a preordered ring
R, a (left) R-convex space (or (left) R-convex module) is a left R+-aï¬ƒne space,
i.e. a left aï¬ƒne space over the rig R+ obtained as the positive part of R (3.4). Hence an
R-convex space is by deï¬nition a set equipped with operations that permit the taking of
left R+-aï¬ƒne combinations (3.2), which we call (left) R-convex combinations. We
write R-Cvx := R+-Aï¬€ for the category of R-convex spaces. Note that R-convex spaces
are the normal T -algebras for the Lawvere theory T = Mataï¬€
R+, whose morphisms are
R+-matrices in which each row sums to 1.

Example 3.6 (Convex spaces over the reals). For example, when R is the real
numbers R with the usual order, the notion of R-convex space is the familiar notion of
convex space. Observe that when n > 0, Mataï¬€R+(n, 1) âŠ† R1Ã—n is the standard geometric
(n âˆ’ 1)-simplex, presented in terms of barycentric coordinates.

Example 3.7 (Convex spaces over a ring of continuous functions). Given a
topological space X, let C(X) denote the ring of all real-valued continuous functions on
X. The pointwise partial order on C(X) makes it a preordered ring whose positive part
C(X)+ is the set C(X, R+) of all continuous R+-valued functions. Given any convex
subset S of Rn, the set C(X, S) of all continuous S-valued functions on X carries the
structure of a C(X)-convex space.

4 Commutation and Kronecker products of operations
4.1. Given a pair of ï¬nite cardinals (j, k), regarded as sets, the cartesian product j Ã— k
in Set has cardinality jk, so jk serves as a product in FinCard of the objects j and k.
Despite this apparently simple way of forming binary products in FinCard, one must

13

2

1

: jk â†’ j and Ï€(j,k)

: jk â†’ k if jk is to be equipped
also choose projections Ï€(j,k)
with the structure of a product of (j, k) in FinCard, and there is more than one way
to do this. In the present section, we must ï¬x a determinate choice of such product
projectionsâ€”equivalently, we must ï¬x designated bijections j Ã— k â†’ jk in Set that
let us encode elements of the cartesian product j Ã— k as elements of jk. For example,
we shall see in 4.4 that the deï¬nition of the classical Kronecker product of matrices
depends on one speciï¬c such encoding (4.4.ii). With such a choice, FinCard is cartesian
monoidal. When jk is to be regarded as a product of (j, k) via the chosen projections
we shall denote it by j Ã— k. It is important to note that the symmetry isomorphism
sj,k : j Ã— k â†’ k Ã— j is not in general the identity map on jk = kj. We shall take the
designated projections Ï€1 : j = j Ã— 1 â†’ j and Ï€2 : k = 1 Ã— k â†’ k to be the identity
maps.

4.2. Let (T , T ) be a Lawvere theory. Since the product jk of natural numbers j and
k carries the structure of a product j Ã— k in FinCard (4.1), there is an associated
canonical way of equipping the object T jÃ—k of T with the structure of both a j-th
power of T k and also a k-th power of T j, which we may signify informally by writing

(T k)j = T jÃ—k = (T j)k .

(4.2.i)

: T jÃ—k â†’ T k)j

v

Writing p(j,k) = (p(j,k)
t=1 for the
associated power cones, we call (T jÃ—k, p(j,k)) the left j-th power of T k, and we call
(T jÃ—k, q(j,k)) the right k-th power3 of T j. Writing T j âˆ— T k = T jÃ—k, we therefore
obtain evident functors

v=1 and q(j,k) = (q(j,k)

: T jÃ—k â†’ T j)k

t

T j âˆ— (âˆ’) : T â†’ T ,
(âˆ’) âˆ— T k : T â†’ T ,

T k (cid:55)â†’ T jÃ—k
T j (cid:55)â†’ T jÃ—k

(j âˆˆ N)
(k âˆˆ N)

induced by left j-th and right k-th power structures, respectively, carried by the objects
T jÃ—k with (j, k) âˆˆ NÃ—N. This now begs the question as to whether these are the partial
functors of a bifunctor

âˆ— : T Ã— T â†’ T

given on objects by (T j, T k) (cid:55)â†’ T jÃ—k. By [7, II.3, Prop. 1], this is the case if and only
if for every pair of morphisms Âµ : T j â†’ T j(cid:48)

and Î½ : T k â†’ T k(cid:48)

in T the composites

1. T j âˆ— T k Âµâˆ—T kâˆ’âˆ’âˆ’â†’ T j(cid:48) âˆ— T k T j(cid:48)âˆ—Î½âˆ’âˆ’âˆ’â†’ T j(cid:48) âˆ— T k(cid:48)
2. T j âˆ— T k T jâˆ—Î½âˆ’âˆ’âˆ’â†’ T j âˆ— T k(cid:48) Âµâˆ—T k(cid:48)âˆ’âˆ’âˆ’âˆ’â†’ T j(cid:48) âˆ— T k(cid:48)

(4.2.ii)

are equal. This leads to the following:

3It is instructive to note that the right k-th power cone q(j,k) is not in general equal to the left k-th power
cone p(k,j), despite the fact that these cones both equip the same object T jk with the structure of a k-th
power of T j. Indeed, the automorphism of T jk induced by this pair of k-th power cones is the isomorphism
T kÃ—j â†’ T jÃ—k determined by the symmetry isomorphism j Ã— k â†’ k Ã— j in FinCard (4.1).

14

Deï¬nition 4.3.

1. Given morphisms Âµ : T j â†’ T j(cid:48)

in T , the ï¬rst and second
Kronecker products Âµ âˆ— Î½ and Âµ Ëœâˆ— Î½ of Âµ with Î½ are deï¬ned as the composites
1 and 2 in (4.2.ii), respectively, i.e.

and Î½ : T k â†’ T k(cid:48)

Ã¥
Ã¥

Ã‡
Ã‡

Âµ âˆ— Î½ =

Âµ Ëœâˆ— Î½ =

T jÃ—k Âµâˆ—T kâˆ’âˆ’âˆ’â†’ T j(cid:48)Ã—k T j(cid:48)âˆ—Î½âˆ’âˆ’âˆ’â†’ T j(cid:48)Ã—k(cid:48)

T jÃ—k T jâˆ—Î½âˆ’âˆ’âˆ’â†’ T jÃ—k(cid:48) Âµâˆ—T k(cid:48)âˆ’âˆ’âˆ’âˆ’â†’ T j(cid:48)Ã—k(cid:48)

,

.

2. We say that Âµ commutes with Î½ if Âµ âˆ— Î½ = Âµ Ëœâˆ— Î½.
3. We say that T is commutative if Âµ commutes with Î½ for every pair of morphisms

Âµ and Î½ in T .

Example 4.4 (The Kronecker product of matrices). Given a ring R, or even
just a rig R, consider the Lawvere theory of left R-modules, i.e. the category MatR of
R-matrices (2.8). Recall that morphisms j â†’ j(cid:48) in MatR are j(cid:48)Ã—j-matrices. Since such
matrices are usually indexed by pairs of positive integers, it shall be convenient here
to depart from the usual von Neumann deï¬nition of the ordinals and instead identify
each object j of FinCard with the set of all positive integers less than or equal to j,
so that the above j(cid:48) Ã— j-matrices are families indexed by the usual cartesian product4
j(cid:48) Ã— j.
Letting X âˆˆ MatR(j, j(cid:48)) = Rj(cid:48)Ã—j and Y âˆˆ MatR(k, k(cid:48)) = Rk(cid:48)Ã—k, the classical
Kronecker product of Y by X is the j(cid:48)k(cid:48) Ã— jk-matrix Y âŠ— X with entries

(Y âŠ— X)(cid:104)u,s(cid:105)(cid:104)v,t(cid:105) = YstXuv

u âˆˆ j(cid:48), s âˆˆ k(cid:48), v âˆˆ j, t âˆˆ k .

(4.4.i)

where in general we write (cid:104)v, t(cid:105) to denote the element
(cid:104)v, t(cid:105) = v + j(t âˆ’ 1)

(4.4.ii)
of jk associated to the pair (v, t) âˆˆ j Ã— k. The hidden reason behind the seemingly
arbitrary convention (4.4.ii) is that it provides one standard way of assigning to each
pair of ï¬nite cardinals (j, k) a bijection (cid:104)âˆ’,âˆ’(cid:105) : j Ã— k â†’ jk, so that jk is thus equipped
with the structure of a product of (j, k) in FinCard. Indeed, each element of jk can
be written in the form (cid:104)v, t(cid:105) for unique v âˆˆ j and t âˆˆ k, and the maps Ï€1 : jk â†’ j and
Ï€2 : jk â†’ k given by Ï€1((cid:104)v, t(cid:105)) = v and Ï€2((cid:104)v, t(cid:105)) = t present jk as a product j Ã— k in
Set and hence in FinCard.

With this choice of binary products in FinCard, we claim that

X âˆ— Y = Y âŠ— X ,

i.e., the ï¬rst Kronecker product X âˆ— Y in MatR is the usual Kronecker product of
matrices Y âŠ— X.

4putting aside for the moment our similar notation for the product in FinCard (4.1).

15

In order to prove this, recall that X âˆ— Y is deï¬ned as the composite

jk Xâˆ—kâˆ’âˆ’â†’ j(cid:48)k

j(cid:48)âˆ—Yâˆ’âˆ’âˆ’â†’ j(cid:48)k(cid:48)

in MatR, where here we write the objects T n of the theory T = MatR simply as n
(since concretely T n = n). In order to examine the entries of the matrices X âˆ— k and
j(cid:48) âˆ— Y , let us ï¬rst note that for each object n of MatR, the designated n-th power
cone (Pi : n â†’ 1)iâˆˆn in MatR consists of the standard basis row-vectors Pi âˆˆ R1Ã—n,
having a 1 in the i-th position and zeros everywhere else. In particular, jk is a jk-th
power of 1 in MatR, via the morphisms P(cid:104)v,t(cid:105) : jk â†’ 1 with (v, t) âˆˆ j Ã— k. For ï¬xed
: jk â†’ j in MatR such that
t âˆˆ k, these morphisms induce a unique morphism Q(j,k)
PvQ(j,k)
)tâˆˆk presents jk as a k-th
power of j in MatR. Explicitly, Q(j,k)

= P(cid:104)v,t(cid:105) (v âˆˆ j), and the resulting family5 (Q(j,k)

is the j Ã— jk-matrix with entries

t

t

t

t

(Q(j,k)

t

)vb = { 1 if b = (cid:104)v, t(cid:105), 0 otherwise

where v âˆˆ j and b âˆˆ jk. Similarly, morphisms (Q(j(cid:48),k)
: j(cid:48)k â†’ j(cid:48))tâˆˆk present j(cid:48)k as a
k-th power of j(cid:48) in MatR. By deï¬nition, X âˆ— k : jk â†’ j(cid:48)k is the unique morphism such
that jk Xâˆ—kâˆ’âˆ’â†’ j(cid:48)k
tâˆ’âˆ’âˆ’â†’ j Xâˆ’â†’ j(cid:48) for all t âˆˆ k. It is straightforward
Q(j,k)
to show therefore that X âˆ— k is the j(cid:48)k Ã— jk-matrix with entries

Q(j(cid:48),k)
tâˆ’âˆ’âˆ’âˆ’â†’ j(cid:48) equals jk

t

(X âˆ— k)(cid:104)u,t1(cid:105)(cid:104)v,t2(cid:105) = { Xuv if t1 = t2, 0 otherwise,

where u âˆˆ j(cid:48), v âˆˆ j, and t1, t2 âˆˆ k. Analogously6, j(cid:48) âˆ— Y : j(cid:48)k â†’ j(cid:48)k(cid:48) is the j(cid:48)k(cid:48) Ã— j(cid:48)k-
matrix with entries

(j(cid:48) âˆ— Y )(cid:104)u1,s(cid:105)(cid:104)u2,t(cid:105) = { Yst if u1 = u2, 0 otherwise,

where u1, u2 âˆˆ j(cid:48), s âˆˆ k(cid:48) and t âˆˆ k. But X âˆ— Y is the matrix product (j(cid:48) âˆ— Y )(X âˆ— k) âˆˆ
Rj(cid:48)k(cid:48)Ã—jk, and one now readily computes that the entries of the latter product are exactly
those of the Kronecker product Y âŠ— X (cf. 4.4.i).
Proposition 4.5 (Relation between the ï¬rst and second Kronecker products).
Given morphisms Âµ : T j â†’ T j(cid:48)
in a Lawvere theory T , the second
Kronecker product Âµ Ëœâˆ— Î½ can be expressed in terms of the ï¬rst Kronecker product Î½ âˆ— Âµ
via the commutativity of the diagram

and Î½ : T k â†’ T k(cid:48)

T jÃ—k
(cid:111)
T kÃ—j

ÂµËœâˆ—Î½ /

Î½âˆ—Âµ

/ T j(cid:48)Ã—k(cid:48)
(cid:111)
/ T k(cid:48)Ã—j(cid:48)

in which the left and right sides are the isomorphisms induced by the symmetry iso-
morphisms k Ã— j â†’ j Ã— k and k(cid:48) Ã— j(cid:48) â†’ j(cid:48) Ã— k(cid:48) in FinCard (4.1). As a consequence,
the commutation relation is symmetric, i.e.

Âµ commutes with Î½ if and only if Î½ commutes with Âµ.

5This family is the right k-th power cone q(j,k) in the terminology of 4.2.
6This time we use the left j(cid:48)-th power cones p(j(cid:48),k) and p(j(cid:48),k(cid:48)) in the terminology of 4.2.

16





/
Proof. This follows from the fact that for each ï¬xed n âˆˆ N, the symmetry isomorphisms
m Ã— n â†’ n Ã— m in FinCard (4.1) with m âˆˆ N induce isomorphisms T nÃ—m â†’ T mÃ—n in
T that constitute a natural isomorphism T n âˆ— (âˆ’) â‡’ (âˆ’) âˆ— T n.

Example 4.6 (The second Kronecker product of matrices). Continuing Exam-
ple 4.4, it now follows from 4.5 that the second Kronecker product X Ëœâˆ— Y : jk â†’ j(cid:48)k(cid:48)
of morphisms X : j â†’ j(cid:48) and Y : k â†’ k(cid:48) in MatR is the j(cid:48)k(cid:48) Ã— jk-matrix with entries

(X Ëœâˆ— Y )(cid:104)u,s(cid:105)(cid:104)v,t(cid:105) = (Y âˆ— X)(cid:104)s,u(cid:105)(cid:104)t,v(cid:105) = (X âŠ— Y )(cid:104)s,u(cid:105)(cid:104)t,v(cid:105) = XuvYst

where u âˆˆ j(cid:48), s âˆˆ k(cid:48), v âˆˆ j, t âˆˆ k. Hence if R is commutative then X Ëœâˆ— Y = Y âŠ— X =
X âˆ— Y , showing that MatR is commutative. Conversely, if MatR is commutative then
by taking j = j(cid:48) = k = k(cid:48) = 1 we ï¬nd that R is commutative. Hence we have proved
the following:

The Lawvere theory MatR of left R-modules for a rig R is
commutative if and only if R is commutative.

(4.6.i)

In particular, the Lawvere theory Mat2 of semilattices is commutative.

Clearly any subtheory of a commutative theory is commutative. In particular, the
following Lawvere theories are commutative, as each is a subtheory of a theory of the
form MatR for a commutative rig R:

Example 4.7. The following Lawvere theories are commutative:

1. The theory Mataï¬€
2. The theory of R-convex spaces Mataï¬€

R of R-aï¬ƒne spaces for a commutative ring or rig R.

R+ for a commutative preordered ring R.

3. The theory of unbounded semilattices Mataï¬€
2 .

4.8. Let (T , T ) be a Lawvere theory. Given j âˆˆ N, any choice of j-th powers in T
determines an endofunctor (âˆ’)j : T â†’ T , and since this endofunctor (âˆ’)j preserves
ï¬nite powers it can be regarded as a T -algebra in T . In particular, if we employ the left
j-th powers in T (4.2), then the resulting endofunctor is the functor T j âˆ—(âˆ’) : T â†’ T
of 4.2, given on objects by T k (cid:55)â†’ T jÃ—k. Therefore T j âˆ— (âˆ’) is a T -algebra in T with
carrier T jÃ—1 = T j. We employ this observation in the following:
Proposition 4.9. Let Âµ : T j â†’ T j(cid:48)
be morphisms in a Lawvere
theory (T , T ), and denote by (Âµu : T j â†’ T )j(cid:48)
s=1 the families
inducing Âµ and Î½, respectively. Then we have T -algebras A = T jâˆ—(âˆ’) and B = T j(cid:48)âˆ—(âˆ’)
in T with carriers |A| = T j, |B| = T j(cid:48)
, respectively, and the following are equivalent:

u=1 and (Î½s : T k â†’ T )k(cid:48)

and Î½ : T k â†’ T k(cid:48)

1. Âµ commutes with Î½.
2. Âµ : |A| â†’ |B| preserves Î½ relative to A and B (2.5).
3. Âµu : T j â†’ T commutes with Î½s : T k â†’ T for all indices u and s.
4. Âµ commutes with each of the components Î½s of Î½.

Proof. The equivalence 1 â‡” 2 follows readily from the deï¬nitions. By 2.5, 2 is equiv-
alent to the following statement:

17

5. Âµ : |A| â†’ |B| preserves each of the components Î½s of Î½.

Now invoking the equivalence 1 â‡” 2 with respect to the morphisms Âµ and Î½s, we deduce
that 5 is equivalent to 4. By symmetry, 4 holds iï¬€ each component Î½s commutes with
Âµ. Having established the equivalence of 1 and 4 for an arbitrary pair of morphisms
(Âµ, Î½), we can now invoke this equivalence with respect to each pair (Î½s, Âµ) to deduce
that 4 holds if and only if each Î½s commutes with each of the components Âµu of Âµ, and
by symmetry this is equivalent to 3.

Remark 4.10. Having reduced the notion of commutation of morphisms Âµ and Î½
in a Lawvere theory (T , T ) to the case of morphisms of the form Âµ : T j â†’ T and
Î½ : T k â†’ T , observe that the deï¬nition of the ï¬rst and second Kronecker products of
such morphisms reduces to the following:

Ã£

Ã…

Ã…

Ã£

Âµ âˆ— Î½ =

T jÃ—k Âµâˆ—T kâˆ’âˆ’âˆ’â†’ T k Î½âˆ’â†’ T

,

Âµ Ëœâˆ— Î½ =

T jÃ—k T jâˆ—Î½âˆ’âˆ’âˆ’â†’ T j Âµâˆ’â†’ T

.

5 Commutants

Deï¬nition 5.1. Let U be a Lawvere theory.

1. Letting A : T â†’ U and B : S â†’ U be morphisms of Lawvere theories, we say
that A commutes with B (or that A and B commute) if A(Âµ) commutes with
B(Î½) in U for all morphisms Âµ in T and Î½ in S .

2. A Lawvere theory over U is a Lawvere theory T equipped with a morphism
T â†’ U . The category of Lawvere theories over U is the slice category
Th/U .

3. Given Lawvere theories T and S over U , we say that T commutes with S

if the associated morphisms to U commute.

4. Subtheories T and S of U are said to commute if they commute as Lawvere

theories over U , i.e. if Âµ commutes with Î½ for all Âµ âˆˆ mor T and Î½ âˆˆ mor S .

Proposition 5.2. Let A : (T , T ) â†’ (U , U ) and B : (S , S) â†’ (U , U ) be morphisms
of Lawvere theories. Then A commutes with B if and only if A(Âµ) commutes with B(Î½)
in U for all morphisms of the form Âµ : T j â†’ T in T and Î½ : Sk â†’ S in S .

Proof. This follows from 4.9, since A and B strictly preserve the designated ï¬nite
powers of T and S, respectively.
Deï¬nition 5.3. A morphism of Lawvere theories A : T â†’ U is said to be central if
it commutes with the identity morphism 1U : U â†’ U .
Example 5.4. Given a Lawvere theory (T , T ), the unique morphism of Lawvere
theories T (âˆ’) : FinCardop â†’ T is central. Indeed, a morphism of the form T j â†’ T in

18

T lies in the image of T (âˆ’) if and only if it is a projection Ï€i : T j â†’ T , and given any
operation Î½ : T k â†’ T in T , the diagram

T jÃ—k

T jâˆ—Î½

T j = T jÃ—1

Ï€iâˆ—T k

T k

Î½

Ï€i

/ T

(4.2), respectively.

commutes since its left and right sides are equally the left j-th power projections p(j,k)
and p(j,1)
Proposition 5.5. Given a set of morphisms â„¦ âŠ† mor U in a Lawvere theory (U , U ),
the set of morphisms

i

i

â„¦âŠ¥ = {Âµ âˆˆ mor U | Âµ commutes with every Î½ âˆˆ â„¦}

is a concrete subtheory of U (2.3).
Proof. Using the functoriality of (âˆ’) âˆ— U k : U â†’ U for each k âˆˆ N, one computes
straightforwardly that â„¦âŠ¥ is closed under composition in U . By 5.4, â„¦âŠ¥ contains all
the projections Ï€i : U j â†’ U . Lastly, given a family of morphisms {Âµi : U j â†’ U | i =
1, ..., j(cid:48)} âŠ† â„¦âŠ¥, the induced morphism Âµ : U j â†’ U j(cid:48)

lies in â„¦âŠ¥ by 4.9.

Deï¬nition 5.6. Let U be a Lawvere theory.

1. Given a set of morphisms â„¦ âŠ† mor U , we call the subtheory â„¦âŠ¥ (cid:44)â†’ U of 5.5 the

commutant of â„¦ (in U ).

2. Given a morphism of Lawvere theories A : T â†’ U , the commutant T âŠ¥

A of A
(or of T with respect to A) is deï¬ned as the commutant of the image A(mor T ) âŠ†
mor U .

3. Given a Lawvere theory T over U , the commutant T âŠ¥ of T is deï¬ned as the

commutant of the associated morphism T â†’ U .

4. The commutant of a subtheory T (cid:44)â†’ U is deï¬ned as the commutant T âŠ¥
of T , considered as a theory over U . Equivalently, T âŠ¥ is the commutant of
mor T âŠ† mor U .

The following is immediate from the deï¬nitions:

Proposition 5.7. Let A : T â†’ U and B : S â†’ U be morphisms of Lawvere theories.
A (cid:44)â†’ U of
Then A and B commute if and only if B factors through the commutant T âŠ¥
A.
Remark 5.8. By 5.7, the commutant T âŠ¥ of a theory T over U is characterized, up
to isomorphism, by a universal property. Hence we will sometimes also call any theory
over U isomorphic to T âŠ¥ the commutant of T .

19



/
/


/
Theorem 5.9. Given a morphism of Lawvere theories A : (T , T ) â†’ (U , U ), let us
regard A as a T -algebra in U . Then the commutant T âŠ¥
A of A is isomorphic to the
full ï¬nitary theory of A in the category T -AlgU of T -algebras in U . In symbols,

T âŠ¥

A

âˆ¼= (T -AlgU )A

as theories over U . Further, we can choose standard designated ï¬nite powers in
T -AlgU in such a way that this isomorphism is an identity.
Proof. Given an arbitrary object U k of U , note that the left j-th powers (U k)j = U jÃ—k
of U k (j âˆˆ N) are standard (2.1), and for k = 1 these are precisely the designated j-th
powers U j of U in U . Let us now use these ï¬nite powers as our designated ï¬nite
powers in U (2.1), calling them the left ï¬nite powers. The resultant pointwise ï¬nite
powers in T -AlgU are standard, and we shall use them in forming the full ï¬nitary
theory (T -AlgU )A of A in T -AlgU . Observe that for each j âˆˆ N, the designated j-th
power Aj of A in T -AlgU is therefore the composite
âˆ’âˆ’âˆ’âˆ’â†’ U

T Aâˆ’â†’ U U jâˆ—(âˆ’)

whose second factor is the endofunctor of T induced by the left j-th powers in T
(4.2). In particular, Aj has carrier U j and is given on objects by Aj(T k) = U jÃ—k.
The faithful functor |âˆ’| : T -AlgU â†’ U strictly preserves the designated ï¬nite
powers and so induces a subtheory embedding (T -AlgU )A (cid:44)â†’ U|A| = UU = U , and
we shall now show that this is precisely the subtheory inclusion T âŠ¥ (cid:44)â†’ U . Fix a pair
of natural numbers j, j(cid:48). Per 2.5, we have identiï¬ed T -homorphisms Aj â†’ Aj(cid:48)
with
certain morphisms Âµ : |Aj| â†’ |Aj(cid:48)| in U between the carriers of the T -algebras Aj and
Aj(cid:48)
in T . But by using
preceding description of the designated powers Aj and Aj(cid:48)
, we ï¬nd that Âµ preserves Î½
iï¬€ the following diagram commutes

, namely those Âµ that preserve each operation Î½ : T k â†’ T k(cid:48)

U jÃ—k

Âµâˆ—U k /

/ U j(cid:48)Ã—k

U j âˆ— A(Î½) 

U jÃ—k(cid:48)

U j(cid:48)âˆ— A(Î½)

/ U j(cid:48)Ã—k(cid:48)

Âµâˆ—U k(cid:48)

commutes with A(Î½) : U k â†’ U k(cid:48)

.

i.e. iï¬€ Âµ : U j â†’ U j(cid:48)
Deï¬nition 5.10. Given a T -algebra A : T â†’ C for a Lawvere theory T , the
commutant T âŠ¥
A of A (or of T with respect to A) is deï¬ned as the commutant of the
associated morphism of theories A(cid:48) : T â†’ CA, where CA is the full ï¬nitary theory of
A in C (2.11). By 5.9 we obtain the following equivalent deï¬nition:
A of a T -algebra A : T â†’ C is the full ï¬nitary
Corollary 5.11. The commutant T âŠ¥
âˆ¼= (T -AlgC )A as theories
theory of A in the category of T -algebras in C , i.e. T âŠ¥
over CA. For suitable choices of ï¬nite powers An in T -AlgC , this isomorphism is an
identity, so that T âŠ¥

A (n, m) = T -AlgC (An, Am) for all n, m âˆˆ N.

A

20




/
Proof. This is veriï¬ed straightforwardly by applying 5.9 and using the fact that the
canonical functor Î¹ : CA â†’ C is fully faithful and preserves ï¬nite powers (2.11). With
: T â†’ CA in
reference to the proof of 5.9, the pointwise left ï¬nite powers of A(cid:48)
T -AlgCA
induce standard designated ï¬nite powers of A in T -AlgC by composition
with Î¹. Employing these in forming (T -AlgC )A, we ï¬nd that Î¹ induces an isomorphism
)A(cid:48) âˆ¼= (T -AlgC )A over CA, but the convention of (2.5.i) entails
of theories (T -AlgCA
that the associated morphisms to CA are concrete subtheory embeddings, so the latter
isomorphism is an equality of concrete subtheories.
Remark 5.12. In the case where C = Set, the commutant T âŠ¥
A of a T -algebra A :
T â†’ Set is (by 5.11) an instance of Lawvereâ€™s notion of the algebraic structure of
a Set-valued functor [3, III.1].

Example 5.13 (The Lawvere theory of R-modules). Letting R be a ring or rig,
recall that left R-modules are the same as normal T -algebras for the Lawvere theory
T = MatR (2.8). In particular, R is a left R-module and so determines a morphism
R : T â†’ SetR into the full ï¬nitary theory SetR of R in Set. Thus regarding T
as a theory over SetR, its commutant T âŠ¥ has T âŠ¥(n, m) = R-Mod(Rn, Rm) by 5.11
once we identify R-Mod with the isomorphic category T -Alg!. Moreover, we have an
identity-on-homs functor T âŠ¥ â†’ R-Mod given on objects by n (cid:55)â†’ Rn.
Indeed, as noted in 2.6 we
have a fully faithful functor y : T op (cid:26) R-Mod sending n âˆˆ ob T = N to the free R-
module Rn. The constituent isomorphisms RmÃ—n = T (n, m) âˆ¼= R-Mod(Rm, Rn) send
each m Ã— n-matrix u to the left R-linear map Rm â†’ Rn given by right multiplication
by u, i.e., we regard Rm and Rn as sets of row vectors so that the associated map
R1Ã—m â†’ R1Ã—n is given by x (cid:55)â†’ xu.
Next observe that the identity-on-objects functor (MatR)op â†’ MatRop given by

Let us ï¬rst observe that T âŠ¥ âˆ¼= T op as categories.

transposition is an isomorphism of categories

(MatR)op âˆ¼= MatRop

so that

T âŠ¥ âˆ¼= T op âˆ¼= MatRop

as categories. The composite isomorphism MatRop â†’ T âŠ¥ commutes with the asso-
ciated morphisms to SetR = SetRop, as it associates to an m Ã— n-matrix u over Rop
the (left R-linear) map Rn â†’ Rm given by x (cid:55)â†’ ux when we regard each x âˆˆ Rn as
a column vector with entries in Rop. We thus obtain the following, recalling that left
Rop-modules are the same as right R-modules.
Theorem 5.14. Let R be a ring or rig. Then the commutant (MatR)âŠ¥ with respect
to R of the theory of left R-modules MatR is the Lawvere theory of right R-modules
MatRop. Indeed, we have an isomorphism

(MatR)âŠ¥ âˆ¼= MatRop

in the category of Lawvere theories over SetR.

21

6 Saturated and balanced subtheories

Proposition 6.1. Let U be a Lawvere theory.

1. Lawvere theories T and S over U commute if and only if there exists a (nec-
essarily unique) morphism S â†’ T âŠ¥ in the category of Lawvere theories over
U .

2. There is a unique functor (âˆ’)âŠ¥ : (Th/U )op â†’ Th/U sending each theory T

over U to its commutant T âŠ¥.

3. The functor (âˆ’)âŠ¥ in 2 is right adjoint to its formal dual (âˆ’)âŠ¥ : Th/U â†’

(Th/U )op.

4. The adjunction in 3 restricts to a Galois connection on the preordered set SubTh(U )

of subtheories of U (2.3), i.e., an adjunction between SubTh(U ) and its opposite.

Proof. 1 follows from 5.7. Every theory T over U commutes with its commutant
T âŠ¥, so by 1 there is a unique morphism T â†’ T âŠ¥âŠ¥ in Th/U . Given a morphism
M : S â†’ T in Th/U , we obtain a composite morphism S Mâˆ’â†’ T â†’ T âŠ¥âŠ¥, so by 1
T âŠ¥ and S commute and hence there is a unique morphism T âŠ¥ â†’ S âŠ¥ in Th/U and
2 follows. 3 and 4 now follow readily.

Deï¬nition 6.2.

1. Given a Lawvere theory T over U , we say that

(a) T is saturated if T âŠ¥âŠ¥ âˆ¼= T in Th/U .
(b) T is balanced if T âŠ¥ âˆ¼= T in Th/U .
mutual commutants in U if T âˆ¼= S âŠ¥ and T âŠ¥ âˆ¼= S .

2. Given a pair of Lawvere theories S and T over U , we say that T and S are

We readily deduce the following:

Proposition 6.3.

1. Any saturated theory T over U is necessarily a subtheory of U .
2. A theory T over U is saturated if and only if it is (isomorphic to) a commutant

S âŠ¥ of some theory S over U .

3. Theories T and S over U are mutual commutants if and only if T is saturated

and S is its commutant.

4. A subtheory T of U is commutative (as a Lawvere theory) if and only if T is

contained in its commutant.

Corollary 6.4. Every balanced theory over U is a commutative, saturated subtheory
of U .

Theorem 6.5. Let R be a ring or rig.

1. The Lawvere theories MatR and MatRop of left and right R-modules (respectively)

are mutual commutants in the full ï¬nitary theory SetR of R in Set.

22

2. The Lawvere theory of left R-modules MatR is a saturated subtheory of SetR.
3. The subtheory MatR (cid:44)â†’ SetR is balanced if and only if R is commutative.

Proof. 1 is obtained by two applications of 5.14, and 2 then follows immediately. If R
is commutative then MatR = MatRop as theories over SetR, so MatR is balanced, by 1.
Conversely, if MatR is balanced over SetR, then MatR is commutative by 6.4, so R is
commutative by (4.6.i).

Example 6.6. By 6.5, the Lawvere theory of semilattices Mat2 (2.10) is a balanced
subtheory of the Lawvere theory of Boolean algebras Set2 (2.12).

Example 6.7 (A non-saturated subtheory). Let k be an inï¬nite integral domain,
and consider the Lawvere theory of commutative k-algebras T (2.9). The domain k
itself is a commutative k-algebra and so determines a morphism of Lawvere theories Îº :
T â†’ Setk into the full ï¬nitary theory Setk of k in Set (2.11). For each natural number
n, the associated component Îºn,1 : T (n, 1) â†’ Setk(n, 1) is the mapping k[x1, ..., xn] â†’
Set(kn, k) that sends a polynomial f to the polynomial function kn â†’ k determined
by f . Since k is an inï¬nite integral domain, this mapping Îºn,1 is injective (e.g. by
[1, III.4, Thm. 7]), so Îº presents T as a subtheory of Setk. The commutant of this
subtheory T is the subtheory T âŠ¥ (cid:44)â†’ Setk in which T âŠ¥(n, 1) = k-CAlg(kn, k) is the
set of all k-algebra homomorphisms Ï• : kn â†’ k. But any such homomorphism Ï• is
i=1 ciÏ€i of the projections Ï€i : kn â†’ k
(i = 1, ..., n), where ci = Ï•(bi) is the image of the i-th standard basis vector bi for kn.
i ci. Hence since i (cid:54)= j implies bibj = 0 in kn and
Ï• preserves multiplication, it follows that Ï• = Ï€i for a unique i. Therefore T âŠ¥(n, 1)
is just the set of all n projections kn â†’ k, and (since k has at least two elements)
it follows that T âŠ¥ is isomorphic to the initial Lawvere theory FinCardop. Therefore
T âŠ¥ (cid:44)â†’ Setk is central (by 5.4) and hence T âŠ¥âŠ¥ = Setk, but Setk (cid:54)âˆ¼= T by a cardinality
argument: # Setk(1, 1) = (#k)#k (cid:62) 2#k > #k = #k[x] = #T (1, 1).

k-linear and so is a linear combination Ï• = (cid:80)n
We also know that 1 = Ï•(1) = (cid:80)

7 The theories of aï¬ƒne and convex spaces as commutants

Let R be ring or, more generally, a rig.

7.1 (Pointed R-modules). By deï¬nition, a pointed (left) R-module is a (left) R-
module M equipped with an arbitrary chosen element âˆ— âˆˆ M . Pointed R-modules are
objects of a category R-Modâˆ— in which the morphisms are R-module homomorphisms
that preserve the chosen points âˆ—. By 2.7, R-Modâˆ— is strictly ï¬nitary-algebraic over
Set. Given a natural number n, the free pointed R-module on n-generators is the
free R-module on 1 + n generators R1+n. Indeed, writing the successive standard basis
vectors for R1+n as Î³0, Î³1, ..., Î³n, we ï¬nd that R1+n is a free pointed R-module on the n
generators Î³1, ..., Î³n when we take âˆ— = Î³0 = (1, 0, 0, ..., 0). By 2.6, R-Modâˆ— is therefore
isomorphic to the category of normal T -algebras for a Lawvere theory T = Matâˆ—
with Matâˆ—
The notion of pointed right R-module is deï¬ned similarly, so that pointed right
R-modules are the same as pointed left Rop-modules, equivalently, normal Matâˆ—
Rop-
algebras. Given a pointed right R-module M , we shall now record a detailed description

R(n, m) = (R1+n)m = RmÃ—(1+n).

R

23

Rop-algebra M : Matâˆ—

Rop â†’ Set for use in the sequel.
of the corresponding normal Matâˆ—
By 2.6, M has the same carrier as M and associates to each w âˆˆ Matâˆ—
Rop(n, 1) = R1+n
w : M n â†’ M deï¬ned as follows. Recalling that R1+n is a free pointed
the mapping Î¦M
right R-module on the n generators Î³1, ..., Î³n âˆˆ R1+n, each n-tuple x = (x1, ...xn) âˆˆ M n
induces a unique morphism of pointed right R-modules x(cid:93) : R1+n â†’ M with x(cid:93)(Î³i) = xi
(i = 1, ..., n), and the associated mapping Î¦M

w : M n â†’ M is given by

w (x) = x(cid:93)(w) = âˆ— Â· w0 +
Î¦M

xiwi

n(cid:88)

i=1

where âˆ— âˆˆ M is the designated point and w = (w0, w1, ..., wn) âˆˆ R1+n.
point 1 âˆˆ R. Therefore R is the carrier of a normal Matâˆ—
consider Matâˆ—
Explicitly, we have a morphism

In particular, we can consider R itself as a pointed right R-module with chosen
Rop-algebra, and we can thus
Rop as a Lawvere theory over the full ï¬nitary theory SetR of R in Set.

Î¦R : Matâˆ—

Rop â†’ SetR

sending each w = (w0, ..., wn) âˆˆ R1+n to the mapping Î¦R

w : Rn â†’ R given by

Î¦R

w(x) = w0 +

xiwi .

n(cid:88)

i=1

(7.1.i)

(7.1.ii)

Theorem 7.2. The Lawvere theory of left R-aï¬ƒne spaces Mataï¬€
with respect to R of the theory of pointed right R-modules Matâˆ—

R is the commutant

Rop. Indeed,

Mataï¬€
R

Rop)âŠ¥

âˆ¼= (Matâˆ—
R is equipped with the morphism Mataï¬€

R â†’

as Lawvere theories over SetR when Mataï¬€
SetR determined by the left R-aï¬ƒne space R.

âˆ¼= (MatRop)âŠ¥ over SetR, so the theory Mataï¬€

âˆ¼= T aï¬€ as theories over SetR since the inclusion Mataï¬€

Proof. By 6.5 we know that MatR
R is
isomorphic to the aï¬ƒne core T aï¬€ of T = (MatRop)âŠ¥. This yields an isomorphism
R (cid:44)â†’ MatR is a morphism
Mataï¬€
R
over SetR. Recall that T is the concrete subtheory of SetR consisting of all right R-
linear maps Ï• : Rn â†’ Rm. Therefore the aï¬ƒne core T aï¬€ of T is the subtheory of SetR
consisting of all right R-linear maps Ï• : Rn â†’ Rm that commute with the â€˜diagonalâ€™
maps (1, ..., 1) : R1 â†’ Rj with j = n, m. But these are precisely the homomorphisms
of pointed right R-modules Ï• : Rn â†’ Rm, where we regard the powers Rj of R as
pointed right R-modules with chosen point 1 = (1, ..., 1) âˆˆ Rj. With this convention
Rj is the j-th power of R = R1 in the category of pointed right R-modules, so the
subtheory T aï¬€ of SetR is precisely the commutant with respect to R of the theory of
pointed right R-modules Matâˆ—

âˆ¼= T aï¬€ = (Matâˆ—

Rop)âŠ¥ over SetR.

Rop. Hence Mataï¬€
R

Corollary 7.3.

1. The Lawvere theory of left R-aï¬ƒne spaces Mataï¬€

R is a saturated subtheory of the

full ï¬nitary theory SetR of R in Set.

24

2. When R is commutative, Mataï¬€
3. If R (cid:54)= 0, then the subtheory Mataï¬€

R is a commutative, saturated subtheory of SetR.

R (cid:44)â†’ SetR is not balanced.

âˆ¼= (Matâˆ—
R is not balanced it suï¬ƒces to show that (Mataï¬€

Proof. 1 and 2 follow immediately from 7.2, 6.3, and 4.7. For 3, suppose that R (cid:54)= 0,
R and Matâˆ—
and ï¬x some nonzero element r of R. Considering Mataï¬€
Rop as a Lawvere
Rop)âŠ¥, so in order to show that
theories over SetR, we know by 7.2 that Mataï¬€
R
R )âŠ¥ (cid:54)â‰¤ (Matâˆ—
Rop)âŠ¥ as subtheories
Mataï¬€
of SetR. But the constant map Rn â†’ R with value r is left R-aï¬ƒne and is not right
R )âŠ¥(n, 1) = R-Aï¬€(Rn, R) but is
R-linear, so this constant map is an element of (Mataï¬€
Rop)âŠ¥(n, 1) = Rop-Modâˆ—(Rn, R).
not an element of (Matâˆ—

Example 7.4. By 7.3, the theory Mataï¬€
2 of unbounded join semilattices (equivalently,
2-aï¬ƒne spaces, 3.3) is a non-balanced, commutative, saturated subtheory of the theory
Set2 of Boolean algebras (2.12).

8 The commutant of the theory of unbounded semilattices

Rop, i.e. whether the theories Mataï¬€

R and Matâˆ—

R is the commutant of the theory Matâˆ—

Given a ring or rig R, we showed in the previous section that the theory of left R-aï¬ƒne
spaces Mataï¬€
Rop of pointed right R-modules,
considered as a theory over SetR. In the remainder of the paper, we shall examine the
commutant of Mataï¬€
R over SetR, and in particular we ask whether this commutant is
Matâˆ—
Rop are mutual commutants in the
full ï¬nitary theory of R in Set. We shall later show that this is indeed the case for all
rings (9.2) and also for many rigs that are not rings (10.20). But ï¬rst we will examine
a notable example of a rig for which this is not the case.
Writing simply 2 to denote the rig (2,âˆ¨, 0,âˆ§, 1), recall that 2-aï¬ƒne spaces are
the same as unbounded join semilattices (3.3), equivalently, idempotent commutative
semigroups, whereas 2-modules are (bounded) join semilattices (2.10). By 7.4, we know
that the theory of unbounded join semilattices is a saturated subtheory of the theory
Set2 of Boolean algebras, and in the present section we characterize its commutant.

8.1 (Join semilattices with top element). Let SLatâˆ¨(cid:62) denote the category whose
objects are join semilattices with a top element and whose morphisms are homomor-
phisms of join semilattices that preserve the top element. Join semilattices with a
top element can be described equivalently as idempotent commutative monoids S with
an additional constant (cid:62) satisfying a single additional equation s Â· (cid:62) = (cid:62) (s âˆˆ S), so
SLatâˆ¨(cid:62) is a variety of ï¬nitary algebras and hence (by 2.7) is isomorphic to the category
of normal T -algebras for a Lawvere theory T = TâŠ¥âˆ¨(cid:62).

In order to obtain a description of TâŠ¥âˆ¨(cid:62), observe that for each ï¬nite cardinal n,
the free join-semilattice-with-top-element F (n) on n generators can be obtained by
artiï¬cially adjoining a new top element (cid:62) to the free join semilattice 2n = P(n) on n
generators (2.10), where as generators we take the standard basis vectors b1, ..., bn âˆˆ 2n,
i.e., the singleton subsets of n. More precisely, we let F (n) := P(n) +{(cid:62)} and observe
that F (n) then carries a unique join semilattice structure such that (cid:62) is a top element of
F (n) and such that the inclusion P(n) (cid:44)â†’ F (n) is a homomorphism of join semilattices.
Now let S be a join semilattice with a top element, and let x = (x1, ..., xn) âˆˆ Sn. The

25

universal property of P(n) as a join semilattice now clearly entails that there is a
unique morphism x(cid:93) : F (n) â†’ S in SLatâˆ¨(cid:62) with x(cid:93)(bi) = xi for all i.

Hence by 2.6 the theory TâŠ¥âˆ¨(cid:62) has

TâŠ¥âˆ¨(cid:62)(n, 1) = F (n) = 2n + {(cid:62)} .

The join semilattice 2 = (2,âˆ¨, 0) has top element 1 and so (by 2.11) determines a
morphism of theories

(8.1.i)
by means of which TâŠ¥âˆ¨(cid:62) can be considered as a theory over the full ï¬nitary theory
Set2 of 2 in Set. Recalling that Set2 is the theory of Boolean algebras (2.12), we shall
prove the following:

2 : TâŠ¥âˆ¨(cid:62) â†’ Set2

Theorem 8.2. The following Lawvere theories are mutual commutants in the theory
of Boolean algebras:

1. The theory Mataï¬€
2. the theory TâŠ¥âˆ¨(cid:62) of join semilattices with top element.

2 of unbounded join semilattices (equivalently, 2-aï¬ƒne spaces);

âˆ¼= (Matâˆ—

2)âŠ¥ as theories over Set2, where Matâˆ—

Proof. By 7.2 we know that Mataï¬€
2 is
2
the theory of pointed 2-modules, equivalently, pointed join semilattices. Explicitly,
(Matâˆ—
2)âŠ¥ is the concrete subtheory of Set2 consisting of all homomorphisms of join
semilattices Ï• : 2n â†’ 2m that preserve the designated points 1 = (1, ..., 1) âˆˆ 2j with
j = n, m. But the join semilattice 2 has top element 1 âˆˆ 2, and the ï¬nite powers 2j of
2 in SLatâˆ¨(cid:62) have top element 1 = (1, ..., 1) âˆˆ 2j, so (Matâˆ—
2)âŠ¥ consists of all morphisms
Ï• : 2n â†’ 2m in SLatâˆ¨(cid:62). Hence

Mataï¬€
2

âˆ¼= (Matâˆ—

2)âŠ¥ = (TâŠ¥âˆ¨(cid:62))âŠ¥

as theories over Set2.

In particular, TâŠ¥âˆ¨(cid:62) and Mataï¬€

through the commutant (Mataï¬€

2 commute over Set2, so the morphism (8.1.i) factors

2 )âŠ¥ (cid:44)â†’ Set2. We therefore have a morphism

2 : TâŠ¥âˆ¨(cid:62) â†’ (Mataï¬€

2 )âŠ¥

that sends each Ï‰ âˆˆ TâŠ¥âˆ¨(cid:62)(n, 1) = F (n) = 2n+{(cid:62)} to an element 2Ï‰ âˆˆ (Mataï¬€
2 )âŠ¥(n, 1) =
USLatâˆ¨(2n, 2), i.e. a homomorphism of unbounded join semilattices 2Ï‰ : 2n â†’ 2. By
2.6, this map 2Ï‰ sends each x = (x1, ..., xn) âˆˆ 2n to 2Ï‰(x) = x(cid:93)(Ï‰), recalling from 8.1
that x(cid:93) : F (n) â†’ 2 is the unique morphism in SLatâˆ¨(cid:62) such that x(cid:93)(bi) = xi for all i.
Explicitly,

(cid:40)(cid:87)n
i=1(Ï‰i âˆ§ xi)

2Ï‰(x) = x(cid:93)(Ï‰) =

1

if Ï‰ = (Ï‰1, ..., Ï‰n) âˆˆ 2n
if Ï‰ = (cid:62)

.

Hence it suï¬ƒces to show that each homomorphism of unbounded join semilattices Ï• :
2n â†’ 2 is equal to 2Ï‰ for a unique Ï‰ âˆˆ 2n +{(cid:62)}. If Ï•(0) = 0 then Ï• is a homomorphism
of join semilattices (or 2-modules) so since the theory of 2-modules Mat2 is a balanced
subtheory of Set2 (6.6) it follows that Ï• is one of the 2-module operations (1.0.i)

26

that Ï• : 2n â†’ 2 is given by x (cid:55)â†’ (cid:87)n
carried by 2. More precisely, there is a unique row vector Ï‰ âˆˆ 2n = Mat2(n, 1) such
i=1(Ï‰i âˆ§ xi), and Ï‰ is then the unique element of
2n + {(cid:62)} with 2Ï‰ = Ï•. On the other hand, if Ï•(0) (cid:54)= 0 then Ï•(0) = 1, but Ï• preserves
binary joins and hence is monotone, so Ï• : 2n â†’ 2 must be the constant map with value
1 and hence we ï¬nd that Ï‰ = (cid:62) is the unique element Ï‰ âˆˆ 2n + {(cid:62)} with 2Ï‰ = Ï•.

9 The commutant of the theory of aï¬ƒne spaces over a ring

The remainder of the paper is devoted to showing that the theories of left R-aï¬ƒne
spaces and pointed right R-modules are mutual commutants in SetR for many rigs R.
In the present section, we show that this holds for all rings.
9.1. Given an arbitrary rig R, we will consider Matâˆ—
R as theories over
SetR, via the morphisms to SetR determined by R (7.1, 7.2). By 7.2 we know that
Rop â†’ SetR
these theories over SetR commute, so the canonical morphism Î¦R : Matâˆ—
factors through the inclusion (Mataï¬€

R )âŠ¥ (cid:44)â†’ SetR via a unique morphism

Rop and Mataï¬€

Î¦R : Matâˆ—

Rop â†’ (Mataï¬€

R )âŠ¥

for which we use the same notation Î¦R. By 7.1, the components Matâˆ—
(Mataï¬€

R )âŠ¥(n, 1) of this morphism are the maps

(âˆ’) : R1+n â†’ R-Aï¬€(Rn, R)
Î¦R

(9.1.i)
Rop(n, 1) â†’

(9.1.ii)
w : Rn â†’ R

that send each element w = (w0, ..., wn) of R1+n to the R-aï¬ƒne map Î¦R
given by

n(cid:88)

Î¦R

w(x) = w0 +

xiwi .

i=1

Theorem 9.2. Given a ring R, the commutant (Mataï¬€
theory Mataï¬€
Indeed, the morphism (9.1.i) is an isomorphism

R of left R-aï¬ƒne spaces is the theory Matâˆ—

R )âŠ¥ with respect to R of the
Rop of pointed right R-modules.

Matâˆ—

Rop âˆ¼= (Mataï¬€
R )âŠ¥

in the category of Lawvere theories over the full ï¬nitary theory SetR of R in Set.
Proof. Let n âˆˆ N. For each left R-aï¬ƒne map Ïˆ : Rn â†’ R let us denote by

wÏˆ = (wÏˆ

0 , wÏˆ

1 , ..., wÏˆ
n )

the element of R1+n deï¬ned by

wÏˆ

0 = Ïˆ(0),

i = Ïˆ(bi) âˆ’ Ïˆ(0)
wÏˆ

(i = 1, ..., n)

where bi = (bi1, ..., bin) âˆˆ Rn is the i-th standard basis vector (with bii = 1 and bij = 0
for j (cid:54)= i). This deï¬nes a map

w(âˆ’) : R-Aï¬€(Rn, R) â†’ R1+n

27

which we claim is inverse to the mapping Î¦R
Indeed, it is easy to see
that w(âˆ’) is a retraction of Î¦R
(âˆ’), so it suï¬ƒces to show that for any left R-aï¬ƒne map
Ïˆ : Rn â†’ R, if we let w = wÏˆ then Î¦R
w : Rn â†’ R is exactly Ïˆ. To this end, observe
that any element x = (x1, ..., xn) of Rn can be expressed as a left R-aï¬ƒne combination

(âˆ’) of (9.1.ii).

of the elements 0, b1, ..., bn of Rn, so Ïˆ necessarily sends x to

xi

0 +

xibi

(cid:33)

i=1

(cid:32)
1 âˆ’ n(cid:88)
(cid:33)
n(cid:88)

xi

x =

(cid:32)
1 âˆ’ n(cid:88)

i=1

n(cid:88)

i=1

n(cid:88)

i=1

Ïˆ(x) =

=

Ïˆ(0) +

xiÏˆ(bi)

Ïˆ(0) +

xi(Ïˆ(bi) âˆ’ Ïˆ(0))

= Î¦R

w(x) .

i=1

By 7.2, we obtain the following:

Corollary 9.3. For a ring R, the Lawvere theory of left R-aï¬ƒne spaces and the Law-
vere theory of pointed right R-modules are mutual commutants in the full ï¬nitary theory
of R in Set.

10 The commutant of the theory of convex spaces for a preordered

ring

Having shown that theories of left R-aï¬ƒne spaces and pointed right R-modules for
a ring R are mutual commutants in SetR (9.3), we now set ourselves to the task of
widening the applicability of this result to include certain rigs that are not rings. In
particular, we will focus on additively cancellative rigs S (3.4), which are precisely
the positive parts S = R+ of preordered rings R. Our study of the commutant of
the theory of R+-aï¬ƒne spaces (which we also call R-convex spaces) begins with the
following observations:

+ â†’ R+ be a (left) R+-aï¬ƒne
Lemma 10.1. Let R be a preordered ring, and let Ï• : Rn
map with n âˆˆ N. Then Ï• is a restriction of at most one R-aï¬ƒne map Ïˆ : Rn â†’ R.
Further, the following are equivalent:

1. Ï• is a restriction of some R-aï¬ƒne map Ïˆ : Rn â†’ R.
2. Ï• is a restriction of the R-aï¬ƒne map Î¦R

wÏ• : Rn â†’ R (9.1) determined by

where bi âˆˆ Rn

wÏ• = (Ï•(0), Ï•(b1) âˆ’ Ï•(0), ..., Ï•(bn) âˆ’ Ï•(0)) âˆˆ R1+n ,
+ is the i-th standard basis vector.

xi(Ï•(bi) âˆ’ Ï•(0))

(10.1.i)

3. For every element x = (x1, ..., xn) âˆˆ Rn
n(cid:88)
+,

Ï•(x) = Ï•(0) +

in R.

i=1

28

Proof. It is clear from the proof of 9.2 that an R-aï¬ƒne map Ïˆ : Rn â†’ R is uniquely
determined by its values on the elements 0, b1, ..., bn of Rn and so is uniquely determined
by its restriction to Rn
+. The equivalence of 2 and 3 is immediate from the deï¬nitions,
and clearly 2 implies 1.
wÏ• all agree on the elements
0, b1, ..., bn of Rn, so Ïˆ and Î¦R

If 1 holds, then Ï•, Ïˆ, and Î¦R

wÏ• are equal and hence 2 holds.

Deï¬nition 10.2. We say that a preordered ring R has the aï¬ƒne extension property
+ â†’ R+ (n âˆˆ N) satisï¬es the equivalent conditions of 10.1.
if every R+-aï¬ƒne map Ï• : Rn
We shall ï¬nd that the aï¬ƒne extension property is a necessary condition for the
Lawvere theories of left R-convex spaces and pointed right R+-modules to be mutual
commutants in SetR+. In order to obtain necessary and suï¬ƒcient conditions, we will
also need to impose a certain weakening of the archimedean property. The familiar
archimedean property for totally ordered ï¬elds has been generalized to the context of
partially ordered rings and abelian groups in a number of slightly diï¬€erent ways in the
literature. We shall now recall one common deï¬nition, which appears for example in
[2], and then proceed to deï¬ne the weaker property that we shall require.

Deï¬nition 10.3. Let R be a preordered ring.

1. We say that R is archimedean provided that for each element r âˆˆ R, if {nr |

n âˆˆ N} has an upper bound in R then r (cid:54) 0.

2. Given an element r âˆˆ R, we call the subset {sr | s âˆˆ R+} âŠ† R the (left) ray of

r.

3. We say that R is (left) auto-archimedean provided that for every element r

of R, if the ray of r has an upper bound in R, then r (cid:54) 0.

Remark 10.4. Observe that an archimedean preordered ring R is necessarily auto-
archimedean.
Remark 10.5. By considering the additive inverse âˆ’r of each r âˆˆ R, we ï¬nd that a
preordered ring R is auto-archimedean precisely when for every r âˆˆ R, if the ray of r
has a lower bound in R, then r (cid:62) 0.
Example 10.6 (The real numbers). The totally ordered ring of real numbers R is
archimedean and hence auto-archimedean. It is well-known that R also has the aï¬ƒne
extension property, and in 10.17 we will prove a more general result that entails this
fact.
Example 10.7 (The integers). The ring of integers Z under the natural order is
archimedean, but Z does not have the aï¬ƒne extension property. Indeed, Z+ = N and
every mapping Nn â†’ N is N-aï¬ƒne (n âˆˆ N), so for example the mapping Ï• = 2(âˆ’) :
N â†’ N is N-aï¬ƒne but does not extend to a Z-aï¬ƒne map Z â†’ Z.

Lemma 10.8. For a preordered ring R, the following are equivalent:

1. R is auto-archimedean.
2. For all r, c âˆˆ R, if the R-aï¬ƒne map R â†’ R given by x (cid:55)â†’ c + xr maps R+ into

R+, then r, c âˆˆ R+.

29

3. For every n âˆˆ N and every w âˆˆ R1+n, if the associated R-aï¬ƒne map Î¦R

w : Rn â†’ R

maps Rn

+ into R+, then w âˆˆ R1+n
+ .

Proof. By 10.5, 1 holds iï¬€

âˆ€r, b âˆˆ R : (âˆ€s âˆˆ R+ : b (cid:54) sr) â‡’ r âˆˆ R+ ,

and (by taking c = âˆ’b) we ï¬nd that this holds iï¬€

âˆ€r, c âˆˆ R : (âˆ€s âˆˆ R+ : c + sr âˆˆ R+) â‡’ r âˆˆ R+ .

(10.8.i)
Hence 1 holds iï¬€ for all r, c âˆˆ R, if the map R â†’ R given by x (cid:55)â†’ c + xr maps R+ into
R+, then r âˆˆ R+. But if c + xr âˆˆ R+ for all x âˆˆ R+ then we necessarily have c âˆˆ R+,
so 1 is equivalent to 2. Also, 3 clearly implies 2. Assume 2 holds, and suppose that
w : Rn â†’ R maps Rn
Î¦R
+ into R+, where w = (w0, w1, ..., wn) is an element of R1+n. For
each i = 1, ..., n we have a mapping (âˆ’) Â· bi : R â†’ Rn given by r (cid:55)â†’ rbi where bi âˆˆ Rn
is the i-th standard basis vector, and the composite
(âˆ’)Â·biâˆ’âˆ’âˆ’â†’ Rn Î¦R

wâˆ’âˆ’â†’ R

Ã…

Ã£

R

Ï•i =

w(xbi) = w0 + xwi. But since Î¦R

is given by Ï•i(x) = Î¦R
+ into R+ it follows
that Ï•i maps R+ into R+, so by 2 we deduce that w0, wi âˆˆ R+. Therefore if n (cid:62) 1 then
w âˆˆ R1+n
Lemma 10.9. For each n âˆˆ N, the composite

+ , but if n = 0 then it is readily seen that w = w0 âˆˆ R1

+. Hence 3 holds.

w maps Rn

R1+n

+

R+

Î¦

(âˆ’)âˆ’âˆ’âˆ’â†’ R+-Aï¬€(Rn

+, R+) w(âˆ’)âˆ’âˆ’âˆ’â†’ R1+n

+ (cid:44)â†’ R1+n, where Î¦R+

is the inclusion R1+n
(âˆ’) is the mapping (9.1.ii) associated to the rig
R+ and w(âˆ’) is the mapping sending an R+-aï¬ƒne map Ï• to the vector wÏ• âˆˆ R1+n of
10.1. Equivalently, if Ï• = Î¦R+

w then w = wÏ•. In particular, Î¦R+

(âˆ’) is injective.

Proof. Any R+-aï¬ƒne map of the form Ï• = Î¦R+
w : Rn â†’ R and and so by 10.1 we deduce that Î¦R
Î¦R
9.2.

w is a restriction of the R-aï¬ƒne map
wÏ•, whence w = wÏ• by

w = Î¦R

Theorem 10.10. The following are equivalent for a preordered ring R:

1. R is auto-archimedean and has the aï¬ƒne extension property.
2. The commutant with respect to R+ of the theory Mataï¬€

R+ of left R-convex spaces
(i.e., left R+-aï¬ƒne spaces) is isomorphic to the theory of pointed right R+-
modules Matâˆ—
, where both theories are considered as Lawvere theories over
SetR+.

Rop
+

30

is a bijection for each n âˆˆ N. But by 10.9 this mapping is necessarily injective and has
+ â†’ R+ such that the element wÏ• of
as its image the set of all R+-aï¬ƒne maps Ï• : Rn
R1+n lies in R1+n
wÏ• . Hence 2 holds iï¬€
2(cid:48). For each R+-aï¬ƒne map Ï• : Rn
This is clearly equivalent to the following:
2(cid:48)(cid:48). For each R+-aï¬ƒne map Ï• : Rn

+ â†’ R+, wÏ• âˆˆ R1+n

+ â†’ R+, wÏ• âˆˆ R1+n

and Ï• is a restriction of

and Ï• = Î¦R+
wÏ• .

+

and Ï• = Î¦R+

+

+

wÏ• : Rn â†’ R.
Î¦R

Proof. By 9.1, we know that there is a unique morphism Matâˆ—
Th/SetR+, namely Î¦R+, so 2 holds iï¬€ the mapping
+ â†’ R+-Aï¬€(Rn

Î¦R+
(âˆ’) : R1+n

+, R+)

Rop
+

â†’ (Mataï¬€

R+)âŠ¥ in

w : Rn â†’ R maps Rn

+ â†’ R+ is R+-aï¬ƒne then the aï¬ƒne extension
If 1 holds then this holds, since if Ï• : Rn
property entails that Ï• is a restriction of Î¦R
wÏ• (10.1), and since R is auto-archimedean
10.8 entails that wÏ• âˆˆ R1+n
+ . Conversely, suppose that 2(cid:48)(cid:48) holds. Then R clearly has
the aï¬ƒne extension property, and we show by way of by condition 3 in 10.8 that R is
auto-archimedean. Suppose that Î¦R
+ into R+. Then its restriction
+ â†’ R+ is R+-aï¬ƒne, and by 2(cid:48)(cid:48) we know that Ï• is also a restriction of Î¦R
Ï• : Rn
wÏ•.
wÏ•, so by 9.2 we ï¬nd that w = wÏ•, and by 2(cid:48)(cid:48)
Hence by 10.1 we deduce that Î¦R
we know that wÏ• âˆˆ R1+n
+ .
10.11. Let D denote the ring of dyadic rationals, i.e. the subring of Q consisting
2n with p âˆˆ Z and n âˆˆ N.
of all rational numbers that can be expressed in the form p
Equivalently, D is the localization of Z at the element 2 âˆˆ Z, i.e., the localization of Z
with respect to the multiplicative subset {2n | n âˆˆ N} âŠ† Z. Under the natural order
that D inherits from Q, D is a preordered ring.

w = Î¦R

10.12. For any preordered ring R, there is a unique morphism of preordered rings
e : Z â†’ R, and for each element n âˆˆ Z we denote the associated element e(n) of R by
n, in accordance with the usual abuse of notation.

Proposition 10.13. For a preordered ring R, the following are equivalent:

1. The element 2 of R is invertible and its inverse lies in R+.
2. There is a unique morphism of preordered rings e(cid:93) : D â†’ R.

Proof. The implication 2 â‡’ 1 is immediate since 2 is invertible in D and its inverse lies
in D+. Conversely if 1 holds then by using the universal property of the localization D
of Z and the fact that Z is an initial object of the category of rings, we ï¬nd that there
2n âˆˆ D+
is a unique ring homomorphism e(cid:93) : D â†’ R. Further, e(cid:93) is monotone since if p
with p âˆˆ Z then p âˆˆ Z+ and hence e(cid:93)( p
2n ) = p Â· (2âˆ’1)n âˆˆ R+ since p, 2âˆ’1 âˆˆ R+.

Deï¬nition 10.14. A preordered ring R is said to be a preordered algebra over
the dyadic rationals, or a preordered D-algebra, if R satisï¬es the equivalent
conditions of 10.13. Note that since e : Z â†’ R maps Z into the centre of R, it follows
that e(cid:93) : D â†’ R maps D into the centre of R. For each dyadic rational d âˆˆ D we write
the element e(cid:93)(d) of R simply as d.

31

Example 10.15. If we deï¬ne a preordered ring R by taking the underlying ring of R
to be Q but taking R+ to be subrig N âŠ† R, then R is not a preordered D-algebra in
the above sense.

Deï¬nition 10.16. An element u of a preordered commutative monoid (M, +, 0) is an
order unit for M if for every x âˆˆ M there exists some n âˆˆ N such that x (cid:54) nu. An
element u of a preordered ring R is said to be an order unit for the positive part
of R if u is an order unit for the additive monoid of R+.

Theorem 10.17. Let R be a preordered algebra over the dyadic rationals, and suppose
that 1 is an order unit for the positive part of R. Then R has the aï¬ƒne extension
property.

Proof. We need to show that if Ï• : Rn

+ â†’ R+ is a left R+-aï¬ƒne map then
n(cid:88)

xi(Ï•(bi) âˆ’ Ï•(0))

Ï•(x) = Ï•(0) +

(10.17.i)

i=1

in R for all x = (x1, ..., xn) âˆˆ Rn
+ is the i-th standard basis vector. Let
us ï¬rst treat the case where n = 1, so that Ï• : R+ â†’ R+. Letting Î´ = Ï•(1)âˆ’ Ï•(0) âˆˆ R,
we must show that Ï•(x) = Ï•(0) + xÎ´ for all x âˆˆ R+. First observe that for each m âˆˆ N,

+, where bi âˆˆ Rn

Ï•(m + 2) âˆ’ Ï•(m + 1) = Ï•(m + 1) âˆ’ Ï•(m)

(10.17.ii)

2 (m + 2) + 1

2 m = m + 1 in R+ and hence 1

(with the notational convention of 10.12) since Ï• preserves the left R+-aï¬ƒne combi-
nation 1
2 Ï•(m) = Ï•(m + 1) and
Ï•(m+2)+Ï•(m) = 2Ï•(m+1). By induction on m âˆˆ N the common diï¬€erence (10.17.ii)
is Î´ = Ï•(1)âˆ’Ï•(0), so by another induction on m âˆˆ N we ï¬nd that Ï•(m) = Ï•(0)+mÎ´ in
R. Now for an arbitrary element x âˆˆ R+, since 1 is an order unit for R+ there is some
m âˆˆ N such that x (cid:54) m in R, and we can take m to be a power of 2 so that m has an
m x (cid:54) 1 in R and hence
inverse 1
both 1 âˆ’ 1
m x lie in R+, so we can express x as a left R+-aï¬ƒne combination

m âˆˆ R+ since R is a preordered D-algebra. But then 1
m x and 1

2 Ï•(m + 2) + 1

Ã„

1
m
of the elements 0, m âˆˆ R+ (using the fact that 1
since Ï• is left R+-aï¬ƒne we compute that

x = (1 âˆ’ 1
m

x) Â· 0 +

Ï•(x) =

= Ï•(0) âˆ’ 1

1 âˆ’ 1
m x
m xÏ•(0) + 1

Ï•(0) + 1

m xÏ•(m)
m xÏ•(0) + 1

=
m xmÎ´ =

Ã¤

x Â· m

Ã„

Ã¤

m , m lie in the centre of R). Hence

1 âˆ’ 1
m x

Ï•(0) + 1

m x(Ï•(0) + mÎ´)

Ï•(0) + xÎ´

Ï•x =

R+

(âˆ’)Â·xâˆ’âˆ’âˆ’â†’ Rn

+

Ï•âˆ’â†’ R+

32

since m, 1

m lie in the centre of R.

Having thus established (10.17.i) in the case n = 1, we now treat the general case.
+, note that the

+ â†’ R+ and an element x âˆˆ Rn

Given a left R+-aï¬ƒne map Ï• : Rn
composite map

Ã…

Ã£

is left R+-aï¬ƒne and is given by Ï•x(r) = Ï•(rx), so by what we have established above
we ï¬nd that

Ï•(rx) = Ï•x(r)

= Ï•x(0) + r(Ï•x(1) âˆ’ Ï•x(0))
= Ï•(0x) + r(Ï•(1x) âˆ’ Ï•(0x)) = Ï•(0) + r(Ï•(x) âˆ’ Ï•(0)) .

(10.17.iii)

for all r âˆˆ R+. Next let Î³ = (cid:80)n

i=1 xi. Since Î³ lies in R+ and 1 is an order unit for
R+ there is some m âˆˆ N such that Î³ (cid:54) m in R, and we can take m to be a power
m âˆˆ R+. Now 1
m Î³ (cid:62) 0. The elements
of 2 so that m has an inverse 1
1âˆ’ 1
m x as a left R+-aï¬ƒne
combination

m Î³ (cid:54) 1, so 1 âˆ’ 1
m xn of R+ sum to 1, and so we can now express 1
n(cid:88)

m x1, ..., 1

m Î³, 1

1
m

x = (1 âˆ’ 1
m

Î³) Â· 0 +

1
m

xibi

of the elements 0, b1, ..., bn of Rn

+. Hence since Ï• is left R+-aï¬ƒne we ï¬nd that

Ï•(

1
m

x) = (1 âˆ’ 1
m

Î³)Ï•(0) +

1
m

xiÏ•(bi) .

i=1

n(cid:88)

i=1

But by (10.17.iii) we know that Ï•( 1

m x) = Ï•(0) + 1

m (Ï•(x) âˆ’ Ï•(0)), so

Ï•(0) +

1
m

(Ï•(x) âˆ’ Ï•(0)) = (1 âˆ’ 1
m

Î³)Ï•(0) +

Multiplying both sides by m,

mÏ•(0) + (Ï•(x) âˆ’ Ï•(0)) = (m âˆ’ Î³)Ï•(0) +

1
m

xiÏ•(bi) .

xiÏ•(bi) ,

n(cid:88)

i=1

n(cid:88)

i=1

so

(cid:33)
Ï•(x) = (1 âˆ’ Î³)Ï•(0) +

(cid:32)
1 âˆ’ n(cid:88)

n(cid:88)

i=1

xiÏ•(bi)

n(cid:88)

=

as needed.

xi

Ï•(0) +

xiÏ•(bi) = Ï•(0) +

i=1

i=1

n(cid:88)

i=1

xi(Ï•(bi) âˆ’ Ï•(0))

We now focus on the following class of preordered rings, given by a slight weakening

of the notion of strongly archimedean partially ordered ring from [2].

Deï¬nition 10.18. We say that a preordered ring R is ï¬rmly archimedean if R is
archimedean and 1 is an order unit for the positive part of R.

Remark 10.19. Observe that a nonzero totally ordered ring R is ï¬rmly archimedean
if and only if R is archimedean. Indeed, in a nonzero archimedean totally ordered ring,
1 is necessarily an order unit for (R, +, 0).

33

Theorem 10.20. Let R be a ï¬rmly archimedean preordered algebra over the dyadic
rationals. Then the Lawvere theory of left R-convex spaces (i.e., left R+-aï¬ƒne spaces)
and the Lawvere theory of pointed right R+-modules are mutual commutants in the full
ï¬nitary theory of R+ in Set.

Proof. This now follows from 10.17, 10.10, and 7.2.

Example 10.21.

1. Any subring R of R containing the dyadic rationals is a ï¬rmly archimedean pre-

ordered D-algebra. In particular, 10.20 applies to both R = R and R = D.

2. Given a set X, the ring R of all bounded real-valued functions on X is a ï¬rmly

archimedean preordered D-algebra under the pointwise order.

3. Let R be any subring of the ring of all bounded real-valued functions on a given
set X, and suppose that R contains all constant functions with dyadic rational
values. Then R is a ï¬rmly archimedean preordered D-algebra under the pointwise
order.

4. Given a compact topological space, the ring R = C(X) of all continuous real-

valued functions on X is a ï¬rmly archimedean preordered D-algebra.

References

[1] G. Birkhoï¬€ and S. Mac Lane, A survey of modern algebra, Macmillan Co., New

York, N. Y., 1953, Rev. ed.

[2] K. A. Kearnes, Idempotent simple algebras, Logic and algebra (Pontignano, 1994),
Lecture Notes in Pure and Appl. Math., vol. 180, Dekker, New York, 1996,
pp. 529â€“572.

[3] F. W. Lawvere, Functorial semantics of algebraic theories, Dissertation, Columbia

University, New York. Available in: Repr. Theory Appl. Categ. 5 (2004), 1963.

[4]

, Some algebraic problems in the context of functorial semantics of algebraic
theories, Reports of the Midwest Category Seminar. II, Springer, 1968, pp. 41â€“61,
Available in: Repr. Theory Appl. Categ. 5 (2004).

[5] R. B. B. Lucyshyn-Wright, A general theory of measure and distribution monads
founded on the notion of commutant of a subtheory, Talk at Category Theory 2015,
Aveiro, Portugal, June 2015.

[6]

, Enriched algebraic theories and monads for a system of arities, Theory

Appl. Categ. 31 (2016), 101â€“137.

[7] S. MacLane, Categories for the working mathematician, ï¬rst ed., Springer-Verlag,

1971.

[8] X. Meng, Categories of convex sets and of metric spaces, with applications to
stochastic programming and related areas, Ph.D. thesis, State University of New
York at Buï¬€alo, 1987.

34

[9] B. Pareigis and H. RÂ¨ohrl, Left linear theoriesâ€”a generalization of module theory,

Appl. Categ. Structures 2 (1994), no. 2, 145â€“171.

[10] V. TrnkovÂ´a and J. Sichler, All clones are centralizer clones, Algebra Universalis

61 (2009), no. 1, 77â€“95.

[11] G. C. Wraith, Algebraic theories, Lectures Autumn 1969. Lecture Notes Series,
No. 22, Matematisk Institut, Aarhus Universitet, Aarhus, 1970 (Revised version
1975).

35


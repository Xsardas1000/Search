.

FINITE F-TYPE AND F-ABUNDANT MODULES

HAILONG DAO AND TONY SE

Dedicated to Professor Kei-ichi Watanabe on the occasion of his seventieth birthday

Abstract. In this note we introduce and study basic properties of two types of modules
over a commutative noetherian ring R of positive prime characteristic. The Ô¨Årst is the
category of modules of Ô¨Ånite F -type. These objects include reÔ¨Çexive ideals representing
torsion elements in the divisor class group of R. The second class is what we call F -abundant
modules. These include, for example, the ring R itself and the canonical module when R
has positive splitting dimension. We prove various facts about these two categories and
how they are related, for example that HomR(M, N ) is maximal Cohen-Macaulay when M
is of Ô¨Ånite F -type and N is F -abundant, plus some extra (but necessary) conditions. Our
methods allow us to extend previous results by Patakfalvi-Schwede, Yao and Watanabe.
They also aÔ¨Äord a deeper understanding of these objects, including complete classiÔ¨Åcations
in many cases of interest, such as complete intersections and invariant subrings.

6
1
0
2

 
r
a

M
1

 

 
 
]

.

C
A
h
t
a
m

[
 
 

1
v
4
3
3
0
0

.

3
0
6
1
:
v
i
X
r
a

1. Introduction

Let (R, m, k) be a reduced F -Ô¨Ånite local ring of dimension d and prime characteristic
p > 0. Let Œ±(R) = logp[k : kp]. All modules are in mod(R), the category of Ô¨Ånitely
generated R-modules.

In this paper we prove some connections between two types of objects deÔ¨Åned using the

Frobenius endomorphism R ‚Üí R with r 7‚Üí rp.

These objects generalize some well-studied concepts. Let us start with the deÔ¨Ånitions. Fix
an R-module M. For e ‚àà Z>0, let eM denote the abelian group M viewed as an R-module
via the eth iteration of the Frobenius map. We let F e : mod(R) ‚Üí mod(R) denote the eth
Peskine-Szpiro functor given by

F e(M) := M ‚äóR

eR.

Given S ‚äÜ mod(R), we use addR(S) to denote the additive subcategory of mod(R) generated
by S.

DeÔ¨Ånition 1.1. (1) Let M be an R-module such that Supp(M) = Spec R and is locally free
in codimension 1. We let M(e) = F e
R(M), viewed as an
R-module by identifying eR with R. We say that M is of Ô¨Ånite F -type if {M(e)}e>0 ‚äÜ
addR(X) for some R-module X (see Lemma 4.3). We let F T (R) denote the category of
R-modules of Ô¨Ånite F -type.

R(M)‚àó‚àó, the reÔ¨Çexive hull of F e

Date: March 2, 2016.
1991 Mathematics Subject ClassiÔ¨Åcation. Primary: 13A35; Secondary:13D07, 13H10.
Key words and phrases. Frobenius endomorphism, divisor class group, F -regularity.
The Ô¨Årst author is partially supported by NSF grant 1104017.

1

2

HAILONG DAO AND TONY SE

(2) Let N, L be R-modules. Let be be maximum such that eN = L‚äïbe ‚äï Ne for some Ne. We

say that (N, L) is an abundant pair if lim inf e‚Üí‚àû peŒ±(R)/be = 0.

(3) Let L be an R-module. We say that L is an F -abundant module if (N, L) is an abundant

pair for some N.

Examples of modules of Ô¨Ånite F -type include torsion elements of the divisor class group of
a normal domain R (without any assumption about the order of the element), Ô¨Ånite integral
extensions that are ¬¥etale in codimension one (see section 4), or F -periodic vector bundles on
the punctured spectrum of R (and of the corresponding projective variety X when R is a
local cone of some embedding of X; see section 6). For F -abundant modules, R has positive
splitting dimension if and only if (R, R) is an abundant pair (see section 5). A good source
of examples in both cases are the rings of invariants of a Ô¨Ånite group, see Example 5.3.

Our main technical results (collected in section 3) say roughly that under various extra
conditions, if M is of Ô¨Ånite F -type and N is F -abundant, then HomR(M, N) is maximal
Cohen-Macaulay. We shall give plenty of examples to show that the technical conditions are
necessary. Our approach yields a strengthening of some well-known results as well as many
new ones:
(1) An extension of results by Patakfalvi-Schwede ([18, Theorem 3.1]) and Watanabe ([21,
Corollary 2.9]) on depth of divisor classes associated to F -regular singularities. See
Theorem 6.3.

(2) Under certain conditions, a strong generalization of Yao‚Äôs result ([22, Lemma 2.2]) on

Cohen-Macaulayness of F -contributors. See Theorems 3.8 and 3.10.

(3) A complete classiÔ¨Åcation of the categories of Ô¨Ånite F -type R-modules and abundant F -
modules in many cases of interest, such as complete intersections and invariant subrings
(Corollary 4.13, Theorem 4.14 and 5).

2. Notation and preliminary results

DeÔ¨Ånition 2.1. ([3, DeÔ¨Ånition 2.4] and [5, DeÔ¨Ånition 4.5]) Let ae = ae(R) be maximum
such that eR = R‚äïae ‚äï Re for some Re. The largest integer k such that

lim
e‚Üí‚àû

ae

pe(k+Œ±(R)) > 0

is called the F -splitting dimension of R, and is denoted by sdim R.

Notation 2.2. (a) We use (Sk) to denote Serre‚Äôs criteria for k > 0.
(b) We use Hi

m(M) to denote the ith local cohomology module of an R-module M supported

on m.

(c) For an R-module M, we let M ‚àó denote HomR(M, R).
(d) Suppose that R has a canonical module œâR. Then for an R-module M, we let M ‚à®

denote HomR(M, œâR).

(e) For S ‚äÜ R, we let eS to denote S viewed as a subset of eR. Then for P ‚àà Spec R, Re

eP

(f) For an ideal I ‚äÜ R, an integer e > 0 and q = pe, we let I [q] = {xq | x ‚àà I}, the qth

is an RP -module, and Re

eP = e(RP ).

Frobenius power of I.

FINITE F -TYPE AND F -ABUNDANT MODULES

3

(g) We use CM(R) to denote the subcategory of mod(R) consisting of all C-M R-modules

and Ref(R) the subcategory of all reÔ¨Çexive modules.

Remark 2.3. We would like to remind the reader of another characterization of sdim R. We
consider the splitting prime P(R) of R, as deÔ¨Åned in [3, DeÔ¨Ånition 3.2]. By [3, Theorem 3.3
and Corollary 3.4], P(R) is a prime ideal if sdim(R) 6= ‚àí‚àû or the unit ideal otherwise.
Corollary 4.3 of [5] shows that sdim R = dim(R/P(R)) when sdim(R) 6= ‚àí‚àû.

Proposition 2.4. Assume the following for R:
(1) R is equidimensional;
(2) RP is C-M for all P ‚àà Spec R \ {m}; and
(3) sdim R > 0.
Then R is C-M.

Proof. Since R is F -Ô¨Ånite, it is a homomorphic image of a Gorenstein ring by [11, Remark
before Lemma A.2]. By (1) and (2), for 0 6 i < d we have that Hi
m(R) has Ô¨Ånite length by
[1, Proposition 21.24]; see also [2, Theorem 9.5.2 (Grothendieck‚Äôs Finiteness Theorem)]. So

peŒ±(R)ŒªR(Hi

m(R)) = ŒªR(eHi
= ŒªR(Hi
= ŒªR(Hi
= aeŒªR(Hi

m(R))
m(eR))
m(R‚äïae ‚äï Me))

m(R)) + ŒªR(Hi

1
pe ŒªR(Hi
1
pe ŒªR(Hi

0 = lim
e‚Üí‚àû

m(R)) =

ae

pe(1+Œ±(R)) ŒªR(Hi

m(R)) +

pe(1+Œ±(R)) ŒªR(Hi

m(Me))

m(Me))
1

ae

m(R)) > lim
e‚Üí‚àû

pe(1+Œ±(R)) ŒªR(Hi
m(R)) = 0 and hence Hi

m(R))

Since sdim R > 1, we have ŒªR(Hi
Theorem 10.36], R is C-M.

m(R) = 0 for 0 6 i < d. Then by [1,
(cid:3)

Corollary 2.5. If R is F -split, is C-M on Spec R \ {m} (e.g. R is an isolated singularity)
but not C-M, then sdim R = 0.
(cid:3)

Example 2.6. Let X be an ordinary Abelian variety of dimension at least two and R be the
coordinate ring of an embedding of X with respect to some polarization. It is well-known, as
in [15, 19], that R is F -split but not C-M. So by Corollary 2.5, sdim R = 0.

Lemma 2.7. Let M, N be R-modules such that eM = N be ‚äïMe and lim inf e‚Üí‚àû
Then depth N > k. In particular, if k = dim(M), then N is C-M.

be

pe(k+Œ±(R)) > 0.

Proof. We use the same proof as in [22, Lemma 2.2]. For 0 6 i < k, we have

0 = lim
e‚Üí‚àû

ŒªR(Hi

R(xpe, M))
pek

= lim
e‚Üí‚àû

ŒªR(Hi

R(x, eM))

pe(k+Œ±(R))

> lim inf
e‚Üí‚àû

be

pe(k+Œ±(R)) ŒªR(Hi

R(x, N))

as in Proposition 2.4. So Hi

R(x, N) = 0 for all 0 6 i < k, and hence depth N > k.

(cid:3)

Remark 2.8. It is already known that sdim R = d ‚áí R is strongly F -regular ‚áí R is C-M.

4

HAILONG DAO AND TONY SE

Remark 2.9. Let eM = Rbe ‚äï Me with be the largest possible. The largest integer k such
that

be

lim inf
e‚Üí‚àû

pe(k+Œ±(R)) > 0

was deÔ¨Åned in [3, DeÔ¨Ånition 5.4] to be sdim(M), the s-dimension of M.

DeÔ¨Ånition 2.10. We will let (sdimn) to denote the statement: sdim RP > 0 for all P ‚àà
Spec R such that ht P > n.

Lemma 2.11. If R satisÔ¨Åes (sdimn), then ht P(R) < n.

Proof. Suppose that R satsiÔ¨Åes (sdimn). By [3, Proposition 3.6], we have P(RP(R)) =
P(R)RP(R). Since R is F -Ô¨Ånite and reduced, so is RP(R). By [3, Corollary 3.4], since
P(RP(R)) is the maximal ideal of RP(R), we have sdim RP(R) = 0, so ht P(R) < n.
(cid:3)

3. Main technical results

Lemma 3.1. Let f : M ‚Üí N be a homomorphism of R-modules, where M is (S2) and N is
(S1). Suppose that f is an isomorphism in codimension 1. Then f is an isomorphism.

Remark 3.2. In many of the results below, we can replace the assumption of a module being
locally free in codimension 1 by R being quasinormal.

Corollary 3.3. Let L, N be R-modules such that L is free in codimension 1 and N is (S2).
Then

HomR(L, N) ‚àº= HomR(L‚àó‚àó, N)

Proof. Let f : L ‚Üí L‚àó‚àó be the canonical map and f : HomR(L‚àó‚àó, N) ‚Üí HomR(L, N) the
induced map. Then f is an isomorphism in codimension 1. By Lemma 3.1, it suÔ¨Éces to
show that HomR(M, N) is (S2) for every R-module M. Given M, let F1 ‚Üí F0 ‚Üí M ‚Üí 0
be a Ô¨Ånite presentation of M. Applying HomR(‚àí, N) gives

0 ‚Üí HomR(M, N) ‚Üí HomR(F0, N) ‚Üí HomR(F1, N)

Since N is (S2), so are HomR(Fi, N) for i = 1, 2 and HomR(M, N), as required.

(cid:3)

Corollary 3.4. Suppose that R is C-M with a canonical module œâR. Suppose that M is (S2)
and M ‚à® is MCM. Then M is MCM.

Proof. Consider the natural map f : M ‚Üí M ‚à®‚à®. In codimension 1, M is MCM since it is
(S2), so f is an isomorphism. Since M ‚à® is MCM, so is M ‚à®‚à®. Hence f is an isomorphism by
Lemma 3.1.
(cid:3)

Remark 3.5. Let M be an R-module, f : R ‚Üí S be a ring homomorphism, U be a mul-
tiplicative subset of S and T = f ‚àí1(U). Then we have (M ‚äóR S)U = M ‚äóR S ‚äóS SU =
M ‚äóR SU = M ‚äóR RT ‚äóRT SU = MT ‚äóRT SU .

f1‚àí‚Üí R1

f2‚àí‚Üí R2 be a sequence of ring homomorphisms where R2 is (S2).
Lemma 3.6. Let R
Let f = f2 ‚ó¶ f1. Let M be an R-module. Suppose that MP is free for every P ‚àà Spec R of
height 1 and for every P = f ‚àí1(Q) such that Q ‚àà Spec R2 of height 1. Let Mi = (M ‚äóR Ri)‚àó‚àó
(over Ri) for i = 1, 2. Then (M1 ‚äóR1 R2)‚àó‚àó ‚àº= M2.

FINITE F -TYPE AND F -ABUNDANT MODULES

5

P1 ‚äó(R1)P1

(R2)Q = (MP ‚äóRP (R1)P1)‚àó‚àó ‚äó(R1)P1

Proof. Let N = M ‚äóR R1. The natural map N ‚Üí M1 = N ‚àó‚àó gives rise to a map g : M ‚äóR
R2 = M ‚äóR R1 ‚äóR1 R2 = N ‚äóR1 R2 ‚Üí N ‚àó‚àó ‚äóR1 R2 = M1 ‚äóR1 R2. Let Q ‚àà Spec R2,
P1 = (f2)‚àí1(Q) and P = f ‚àí1(Q). Then (M ‚äóR R2)Q = MP ‚äóRP (R2)Q and (M1 ‚äóR1 R2)Q =
(M ‚äóR R1)‚àó‚àó
(R2)Q, so g is an isomorphism in
codimension 1. Applying ‚àó‚àó gives the map M2 = (M ‚äóR R2)‚àó‚àó ‚Üí (M1 ‚äóR1 R2)‚àó‚àó, which is an
isomorphism by Lemma 3.1 since R2 is (S2).
(cid:3)
Corollary 3.7. (‚ÄúIndex shifting‚Äù) Let R be (S2) and M be as in DeÔ¨Ånition 1.1. Let e, f be
nonnegative integers. Then [M(e)](f ) ‚àº= M(e + f ).
Proof. Let R1 = eR and R2 =
[M(e)](f ) = (M1 ‚äóR1 R2)‚àó‚àó ‚àº= M2 = M(e + f ).
Theorem 3.8. Suppose that R is (S2) and equidimensional. Let M, N be R-modules such
that M ‚àà F T (R) and N is (S2). Assume that (N, L) is an abundant pair and that
NP ‚àà add LP for all P ‚àà Spec R such that 3 6 ht(P ) < d. Assume further that for ev-
ery P ‚àà Spec R such that 3 6 ht(P ) < d and e > 0, (HomR(M(e), L))P is MCM. Then
HomR(M(e), L) is MCM for all e > 0.
Proof. If d 6 2, then HomR(M(e), L) is MCM since L is (S2). So we may assume that
d > 3. By assumption, for P ‚àà Spec R \ {m}, we have NP ‚àà add LP for ht(P ) > 3, so
(HomR(M(e), N))P is MCM for e > 0. So for 0 6 i < d and e > 0, Hi
m(HomR(M(e), N))
has Ô¨Ånite length ‚Äî see Proposition 2.4. By Corollary 3.3, we have

as in Lemma 3.6. Then we have M(e) = M1, and so
(cid:3)

Re+f

HomeR(

[F e

R(M)‚àó‚àó]

eR

eR

eR

, NeR )

eR)‚àó‚àó]
eR]

[(M ‚äóR
[M ‚äóR

, NeR ) = HomeR(
= HomeR(
, NeR )
= HomR(M, HomeR(eR, NeR ))
= HomR(M, NeR )
= HomR(M, eN)
= HomR(M, L‚äïbe ‚äï Ne)
= HomR(M, L)‚äïbe ‚äï HomR(M, Ne)

Apply Hi
beŒªR(Hi

m for 0 6 i < d to get
m(HomR(M, L))) 6 ŒªR(Hi
R(M)‚àó‚àó]
m(HomeR(
eR
= ŒªR(Hi
[F e
m(eR)(HomeR(
= ŒªR(Hi
R(M)‚àó‚àó]
em(HomeR(
i
= ŒªR( He
m(HomR(M(e), NR )))
= peŒ±(R)ŒªR(Hi

eR
[F e

[F e

eR

m(HomR(M(e), NR )))

R(M)‚àó‚àó]

, NeR )))

(base change)

, NeR )))

, NeR )))

ŒªR(Hi

m(HomR(M, L))) 6

peŒ±(R)

be

max{ŒªR(Hi

m(HomR(M(e), NR )))}

Taking lim inf shows that Hi

m(HomR(M, L)) = 0 for 0 6 i < d, so HomR(M, L) is MCM.
By Corollary 3.7, we have [M(e)](f ) ‚àº= M(e+ f ). So we may replace M by M(e) to conclude
that HomR(M(e), L) is MCM.
(cid:3)

6

HAILONG DAO AND TONY SE

Remark 3.9. By Lemma 4.3, we only need to check that (HomR(Mi, L))P is MCM for 3 6
ht(P ) < d for the Ô¨Ånitely many indecomposable modules Mi that appear among {M(e)}e>0.

Theorem 3.10. Let R be as in Theorem 3.8. Let M, N be R-modules such that M ‚àà F T (R)
and N is (S2). Assume that for every P ‚àà Spec R such that ht(P ) > 3, (NP , LP ) is an
abundant pair. Assume further that for every P ‚àà Spec R such that 3 6 ht(P ) < d, we have
NP ‚àà add LP . Then HomR(M(e), L) is MCM for all e > 0.

Proof. First, for every P ‚àà Spec R, we have the following.

[F e

RP (MP )‚àó‚àó]

e(RP )

e(RP ), e(RP )(cid:1), e(RP )(cid:1)

= Home(RP )(cid:0) Home(RP )(cid:0)MP ‚äóe(RP )
= Home(RP )(cid:0) Home(RP )(cid:0)M ‚äóR RP ‚äóe(RP )
= Home(RP )(cid:0) Home(RP )(cid:0)M ‚äóR
= Home(RP )(cid:0) HomeR eP (cid:0)M ‚äóR
= Home(RP )(cid:0) HomeR(cid:0)M ‚äóR
= (cid:16) HomeR(cid:0) HomeR(cid:0)M ‚äóR

e(RP ), e(RP )(cid:1), e(RP )(cid:1)
eR ‚äóeR eP
eR, eR(cid:1) eP , e(RP )(cid:1)
eR, eR(cid:1), eR(cid:1)(cid:17) eP

e(RP ), e(RP )(cid:1), e(RP )(cid:1)
eR eP , eR eP(cid:1), e(RP )(cid:1)

= (F e

R(M)‚àó‚àó)P

So we can prove by induction on d that HomR(M(e), L) is MCM for all e > 0. We may as-
sume that d > 3. Let P ‚àà Spec R such that 3 6 ht(P ) < d. By induction, (HomR(M(e), L))P
is MCM. So by Theorem 3.8, HomR(M(e), L) is MCM.
(cid:3)

Corollary 3.11. Suppose that R is C-M and M ‚àà F T (R) is (S2). Assume that:
(a) either sdim R > 0 and M(e)P is MCM for every P ‚àà Spec R such that 3 6 ht(P ) < d

and e > 0; or
(b) R is (sdim3).
Then M is MCM.

Proof. Since R is a homomorphic image of a Gorenstein ring, it has a canonical module œâR
by [2, 12.1.3(iii)]. Since R is C-M, it is equidimensional, and œâR is reÔ¨Çexive and hence (S2).
We will show that HomR(M, œâR) = M ‚à® is MCM, so that by Corollary 3.4, M is MCM. We
may assume that d > 2. Since sdim R > 0, (R, R) is an abundant pair by Example 5.1. Then
‚àº= HomR(eR, œâR) = HomR(R‚äïae ‚äï Re, œâR) =
(œâR, œâR) is also an abundant pair, since œâeR
œâ‚äïae
R ‚äï HomR(Re, œâR). If (a) holds, then (HomR(M(e), œâR))P is MCM for every P ‚àà Spec R
such that 3 6 ht(P ) < d and e > 0. By Theorem 3.8, HomR(M, œâR) = M ‚à® is MCM. If
(b) holds, then (œâRP , œâRP ) is an abundant pair for P ‚àà Spec R such that ht(P ) > 3, so
HomR(M, œâR) is MCM by Theorem 3.10.
(cid:3)

Corollary 3.12. Suppose that R is strongly F -regular and M ‚àà F T (R) is (S2). Then M
is MCM. In particular, if I is a reÔ¨Çexive ideal such that [I] is torsion in Cl(R), then I is
MCM.

Proof. Since R is strongly F -regular, it is (sdim3). Corollary 3.11 shows that M is MCM.
By Example 4.1, we have I ‚àà F T (R).
(cid:3)

Remark 3.13. Corollary 3.12 generalizes [18, Corollary 3.3].

FINITE F -TYPE AND F -ABUNDANT MODULES

7

4. The category of finite F -type modules

In this section we study the category of Ô¨Ånite F -type in more detail. We completely classify
this category when R is a quotient singularity with a Ô¨Ånite group whose order is coprime
to p (Corollary 4.12), or when R is a complete intersection that is regular in codimension 2
(Theorem 4.14).

Example 4.1. The following are R-modules M of Ô¨Ånite F -type.
(a) ([21, paragraph 2.3]) R is a normal domain and M = I, where I is a divisorial ideal.
Then M(e) ‚àº= I (e), so M ‚àà F T (R) iÔ¨Ä [I] is torsion in Cl(R).
(a‚Äô) M is a free R-module.
(b) ([21, Theorem 2.7]) Let R ‚Üí S be a Ô¨Ånite homomorphism of normal domains which
eR ‚Üí eS we get
is ¬¥etale in codimension 1 and M = S. From the natural map S ‚äóR
(S ‚äóR
(c) See also Lemma 6.2.

eR)‚àó‚àó ‚àº= S ‚àó‚àó, i.e. M(e) ‚àº= S.

Lemma 4.2. F T (R) is closed under direct sums and direct summands.

Proof. Obvious.

(cid:3)

Lemma 4.3. Let S ‚äÜ mod R. Then addR(S) has Ô¨Ånitely many indecomposable objects iÔ¨Ä
S ‚äÜ addR(X) for some R-module X. Hence for an R-module M, M ‚àà F T (R) if and only
if only Ô¨Ånitely many indecomposable direct summands appear among {M(e)}e>0.

Proof. For the ‚Äúonly if‚Äù part, take X to be the direct sum of the indecomposable objects of
addR(S). For the ‚Äúif‚Äù part, we consider the endomorphism ring E = EndR(X). Consider the
category Proj E ‚äÜ mod(E) of left projective modules over E. Then F : addR(X) ‚Üí Proj E
given by F (L) = HomR(L, X) for L ‚àà addR(X) is an equivalence of categories. Since
E is Ô¨Ånitely generated over the local ring R, it is semilocal. By [8, Theorem 9], Proj E
has only Ô¨Ånitely many isomorphism classes of indecomposable objects, and hence so does
addR(X).
(cid:3)

Corollary 4.4. Let R, M be as in Corollary 3.7. Then M ‚àà F T (R) iÔ¨Ä there are e > 0 and
f > 0 such that M(e) ‚àº= M(e + f ).
Proof. ‚ÄúIf‚Äù: We note that M(e + g) ‚àº= [M(e)](g) ‚àº= [M(e + f )](g) ‚àº= M(e + f + g) by
Corollary 3.7, so there are only Ô¨Ånitely many isomorphism classes of {M(e)}e>0.
‚ÄúOnly if‚Äù: Let X be an R-module such that {M(e)}e>0 ‚äÜ addR(X). Let S be the set of
indecomposable direct summands of {M(e)}e>0. Then S ‚äÜ addR(X), and S is Ô¨Ånite by
Lemma 4.3. By index shifting, it suÔ¨Éces to prove that N(e) ‚àº= N(e + f ) for some e > 0 and
f > 0 for all N ‚àà S. By assumption, R is local, so we can prove the claim by induction on
the minimum number of generators of N. Suppose Ô¨Årst that N(e) is indecomposable for all
e. Then the claim holds since S is Ô¨Ånite. So suppose that N(e0) is not indecomposable for
some e0 and has indecomposable direct summands Ni ‚àà S. By induction, the claim holds
for the Ni, and hence for N by index shifting.
(cid:3)

Proposition 4.5. Let R be (S2). Let F T = F T (R). Then:
(a) if M ‚àà F T , then M ‚àó‚àó ‚àà F T .
(b) if M, N ‚àà F T , then M ‚äó N ‚àà F T .

8

HAILONG DAO AND TONY SE

Proof. (a) By Corollary 3.7, we have [M(0)](e) ‚àº= M(e), that is, (M ‚àó‚àó)(e) ‚àº= M(e).
(b) For P ‚àà Spec R, we have (M ‚äóR N)P = MP ‚äóRP NP , so M ‚äó N is locally free in
codimension 1. Next, we have

M ‚äóR N ‚äóR

(M ‚äóR N ‚äóR

eR ‚äóeR
eR = M ‚äóR N ‚äóR
eR
eR ‚äóeR
eR ‚äóR N
eR) ‚äóeR (N ‚äóR
eR) ‚äóeR (N ‚äóR

= M ‚äóR
= (M ‚äóR
eR)‚àó‚àó = [(M ‚äóR

eR)
eR)]‚àó‚àó

The natural maps M ‚äóR
map f : [(M ‚äóR
Lemma 3.1 shows that f is an isomorphism. So we have an isomorphism

eR)]‚àó‚àó ‚Üí [(M ‚äóR

eR)‚àó‚àó ‚äóeR (N ‚äóR

eR) ‚äóeR (N ‚äóR

eR)‚àó‚àó and N ‚äóR

eR ‚Üí (M ‚äóR

eR ‚Üí (N ‚äóR

eR)‚àó‚àó give rise to the
eR)‚àó‚àó]‚àó‚àó. Since R is (S2),

(M ‚äóR N)(e) ‚àº= (M(e) ‚äóR N(e))‚àó‚àó

By Lemma 4.3, only Ô¨Ånitely many indecomposable direct summands {Ki}m
{M(e)}e>0 and {Lj}n
addR(X).

j=1 in {N(e)}e>0. Let X = Pi,j(Ki ‚äóR Lj)‚àó‚àó. Then {(M ‚äóR N)(e)}e>0 ‚äÜ

i=1 appear in

(cid:3)

Question 4.6. If R is Gorenstein, is M ‚àó ‚àà F T (R)?

Lemma 4.7. Let f : R ‚Üí S be a ring homomorphism. Suppose that S is (S2). Let M be an
R-module. Suppose that:
(a) f is Ô¨Çat; or
(b) MP is free for every P = f ‚àí1(Q) such that Q ‚àà Spec S and ht(Q) = 1.
If M ‚àà F T (R), then M ‚äóR S ‚àà F T (S).

Proof. Let N = M ‚äóR S. First, we consider (b) and suppose that Q ‚àà Spec S, ht(Q) = 1
and M ‚àà F T (R). Let P = f ‚àí1(Q). Then NQ = MP ‚äóRP SQ, which is free over SQ by
assumption. Next, we consider the modules F e
eS)‚àó‚àó =
(M ‚äóR

S(N)‚àó‚àó = (M ‚äóR S ‚äóS

eS)‚àó‚àó = (M ‚äóR

eR ‚äóeR

eS)‚àó‚àó.

R

œï

eR

f

f

S

œï

/ eS

œï
‚àí‚Üí eR

Consider the maps R
R2 = eS. Then Lemma 3.6 shows that F e
N(e) ‚àº= (M(e) ‚äóR S)‚àó‚àó ‚äÜ addS((X ‚äóR S)‚àó‚àó).
Now suppose that f is Ô¨Çat. Let Q, P and M be as above. Then we have ht(Q) = ht(P ) +
dim(SQ/P SQ), so ht(P ) 6 1 and MP is free, giving (b).
(cid:3)

f
‚àí‚Üí eS, where œï is the Frobenius map, and let R1 = eR,
eS)‚àó‚àó, so

S(N)‚àó‚àó = (M ‚äóR

eS)‚àó‚àó ‚àº= (F e

R(M)‚àó‚àó ‚äóeR

Lemma 4.8. Suppose that R is regular. Let M be an R-module. Then M ‚àó is reÔ¨Çexive.

Proof. Consider the canonical map f : M ‚àó ‚Üí M ‚àó‚àó‚àó. In codimension 1, R is a principal ideal
domain, so M ‚àó is free, and f is an isomorphism. Since R is (S2), so are M ‚àó and M ‚àó‚àó‚àó. By
Lemma 3.1, f is an isomorphism.
(cid:3)

/
/




/
FINITE F -TYPE AND F -ABUNDANT MODULES

9

Lemma 4.9. Let R ‚Üí S be a Ô¨Çat ring extension. Suppose that M is a reÔ¨Çexive R-module.
Then M ‚äóR S is a reÔ¨Çexive S-module.

Proof. Since R ‚Üí S is Ô¨Çat, we have M ‚äóR S = M ‚àó‚àó ‚äóR S = (M ‚äóR S)‚àó‚àó.

(cid:3)

Lemma 4.10. Suppose that R is regular. Consider the following statements:
(a) M ‚àà F T (R)
(b) M ‚àó is free.
(c) M ‚àó‚àó is free.
Then (a) ‚áí (b) ‚áî (c). If M is free in codimension 1, then (a) ‚áî (b) ‚áî (c).

Proof. (b) ‚áí (c): Obvious.
(c) ‚áí (b): If M ‚àó‚àó is free, then so is M ‚àó‚àó‚àó = (M ‚àó)‚àó‚àó. So M ‚àó is free by Lemma 4.8.
(a) ‚áí (c): Suppose that M ‚àà F T (R). By Proposition 4.5(a) and Lemma 3.1, we may
replace M by M ‚àó‚àó and assume that M is reÔ¨Çexive. So we need to show that M is free.
Since R is regular, the ring extension R ‚Üí eR is Ô¨Çat. By Lemma 4.9, we have M(e) =
eR for all e > 0. By Corollary 4.4, we have M(e‚Ä≤) ‚àº= M(e‚Ä≤ + e) for
(M ‚äóR
some e‚Ä≤ > 0 and e > 0. First, suppose that e‚Ä≤ = 0, so that M ‚àº= M(e). Consider a minimal
free resolution

eR)‚àó‚àó = M ‚äóR

¬∑ ¬∑ ¬∑ ‚Üí F1

A‚àí‚Üí F0 ‚Üí M ‚Üí 0

of M given by the matrix A. Let I(M) ‚äÜ m be the Fitting ideal of M generated by the
entries of A and let q = pe. Tensoring with eR gives a free resolution

A[q]
‚àí‚àí‚Üí F0 ‚Üí M(e) ‚Üí 0,

¬∑ ¬∑ ¬∑ ‚Üí F1

(‚àó)
so I(M(e)) = I(M)[q]. Since M ‚àº= M(e), we have I(M) = I(M(e)) = I(M)[q], so I(M) =
I(M)q. By Nakayama‚Äôs Lemma, we have I(M) = 0. So A = 0, and M ‚àó‚àó = M is free.
In general, the above shows that M(e) is free for some e > 0 by Corollary 3.7. Suppose that
e > 0. Since (‚àó) is a free resolution of the free module M(e), it is a direct sum of a trivial
complex and the resolution 0 ‚Üí F ‚Üí M(e) ‚Üí 0. So the entries in A[q] are either 1 or 0.
Since A has entries in m and R is a domain, we must have A = 0, so again M is free.
(c) ‚áí (a): Suppose that M is free in codimension 1. If M ‚àó‚àó is free, then M ‚àó‚àó ‚àà F T (R), so
M ‚àà F T (R) by Proposition 4.5(a).
(cid:3)

Theorem 4.11. Let œï : R ‚Üí S be a Ô¨Ånite homomorphism of normal domains such that
œï is ¬¥etale in codimension 1 and splits as a map of R-modules. Let N, L be R-modules
such that N is (S2) and that locally, (N, L) is an abundant pair and N ‚àà add(L). Then
L ‚àà addR(CM(S)).

Proof. Since S is of Ô¨Ånite F -type over R, HomR(S, L) is C-M by Theorem 3.10, so HomR(S, L)
‚àà CM(S). Since œï splits, L is a direct summand of HomR(S, L).
(cid:3)

Corollary 4.12. Let œï : R ‚Üí S be a Ô¨Ånite homomorphism of normal domains such that œï is
¬¥etale in codimension 1 and splits as a map of R-modules and that S is regular (for example,
if R is a quotient singularity as in example 5.3). If M ‚àà F T (R), then M ‚àó ‚àà addR(S). If
S ‚àó = HomR(S, R) ‚àº= S (again, for example if R is a quotient singularity as in 5.3) then
F T (R) = addR(S).

10

HAILONG DAO AND TONY SE

Proof. Let N = M ‚äóRS. If M ‚àà F T (R), then N ‚àà F T (S) by Lemma 4.7. Then N ‚àó is free by
Lemma 4.10. We have N ‚àó = HomS(M ‚äóR S, S) = HomR(M, HomS(S, S)) = HomR(M, S).
Since f splits, HomR(M, R) is a direct summand of HomR(M, S), so M ‚àó ‚àà addR(S).
If
S ‚àó ‚àº= S, then it follows that F T (R) ‚äÜ addR(S), and S ‚àà F T (R) by Example 4.1.
(cid:3)

Corollary 4.13. Suppose that k is algebraically closed. Let S = k[[x1, . . . , xd]]. Let G be
a Ô¨Ånite subgroup of GL(d, k) that contains no pseudo-reÔ¨Çections such that the order of G is
coprime to p. Let R = SG. Then F T (R) = addR S.

Proof. Use Corollary 4.12.

(cid:3)

Theorem 4.14. Suppose that R is a complete intersection and M is an R-module that is
free in codimension 2. Then M ‚àà F T (R) if and only if M ‚àó‚àó is free.

Proof. The proof of ‚Äúif‚Äù is given by (c) ‚áí (a) in Lemma 4.10. For the ‚Äúonly if‚Äù part, as
in the proof of Lemma 4.10 (a) ‚áí (c), it suÔ¨Éces to assume that M is reÔ¨Çexive and show
that M is free. The proof is by induction on d. For d > 3, M is free on Spec R \ {m} by
induction. Let r = depth M > 2. Suppose that r < d. Then by [7, Proposition 4.14], we
have Hr

m(F e

m(F e

R(M)‚àó‚àó) = eHr

R(M)) ‚àº= Hr
ŒªR(Hr
m(F e

R(M))

pe(d+Œ±(R))

lim
e‚Üí‚àû

m(M(e)) as in Theorem 3.8, so
peŒ±(R)ŒªR(Hr

m(M(e)))

ŒªR(eHr

= lim
e‚Üí‚àû

pe(d+Œ±(R))

= lim
e‚Üí‚àû

m(M(e)))

= 0

pe(d+Œ±(R))

by the assumption that M ‚àà F T (R). Then [7, Theorem 4.12] gives pdR M < d ‚àí r. By the
Auslander-Buchsbaum formula, we have depth M > r, a contradiction. So r = d, and again
[7, Theorem 4.12] with k = r ‚àí 1 shows that pdR M = 0, so M is free.
(cid:3)
Example 4.15. Let R = k[[x, y, z]]/(xy ‚àí z2) and M be the ideal (x, z). Then [M] has order
2 in Cl(R) and so M ‚àà F T (R) by Example 4.1, but M ‚àó‚àó is not free, so the condition that
M is locally free in codimension 2 is necessary in Theorem 4.14.

5. F -abundant pairs and modules

In this section we give many examples of F -abundant pairs and modules.

Example 5.1. (a) If sdim R > 1, in particular if R is strongly F -regular of dimension > 1,
then (R, R) is an abundant pair.
(b) [14, Proposition 2.3] shows that Œ±(RP ) = Œ±(R) + dim(R/P ). Let N, L be as in Def-
If lim inf e‚Üí‚àû pe(Œ±(R)+dim(R/P ))/be = 0, then (NP , LP ) is an
inition 1.1 and P ‚àà Spec R.
abundant pair.
(c) F -contributors for modules of Ô¨Ånite F -representation type, as in [22, Section 2].

Example 5.2. ([7, Example 6.1]) Let k be an algebraically closed Ô¨Åeld of characteristic
p > 2. Consider the hypersurface R = k[[x, y, u, v]]/(xy ‚àí uv). Then every MCM R-module
is F -abundant.

Example 5.3. Let k be an algebraically closed Ô¨Åeld of characteristic p > 0 and V be a k-
vector space of dimension d. Let S be the symmetric algebra of V . Let G be a Ô¨Ånite subgroup
of GL(V ) without pseudo-reÔ¨Çections such that |G| is coprime to p. Let R = SG be the ring
of invariants. Let V0, ¬∑ ¬∑ ¬∑ , Vn be a complete set of irreducible representations of G over k.

FINITE F -TYPE AND F -ABUNDANT MODULES

11

Let Mi = (S ‚äók Vi)G. It is classical that addR(S) = {M0, M1, . . . , Mn}. Also, by the main
results of [10]:
(1) S, and hence all of M0, M1, . . . , Mn, are modules of Ô¨Ånite F -type. Note that rank Mi =

dimk Vi, so we have many examples of modules of Ô¨Ånite F -type which are not ideals.

(2) (Mi, Mj) is an F -abundant pair for all 0 ‚â§ i, j ‚â§ n.

Corollary 5.4. Let R, N be as in Theorem 3.8. Suppose that lim inf e‚Üí‚àû pe(Œ±(R)+d‚àí3)/be = 0
as in Example 5.1 with N = L (for example, when d = 3 and (N, N) is an abundant pair).
Then N is MCM. In particular, if R is regular, then N is free.

Proof. Theorem 3.10 with M = R and e = 0 shows that N is MCM.

(cid:3)

Example 5.5. Let k be a perfect Ô¨Åeld, R = k[[x, y, z]] and M be the ideal (x, y). Then
(M, M) is an abundant pair, but M is not (S2). So the assumption in Corollary 5.4 for N
to be (S2) cannot be weakened.

Proof. Let C = k[[z]]. Consider the exact sequence

0 ‚Üí M ‚Üí R ‚Üí C ‚Üí 0

Let q = pe. Since e‚àí is an exact functor, we have

0

/ eM

/ eR

/ eC

R‚äïq3

/ C ‚äïq

/ 0

/ 0

It follows that eM has exactly q copies of M, so (M, M) is an abundant pair. Since 1 =
depth MM < dim MM = 2, M is not (S2).
(cid:3)

Example 5.6. Let k be a perfect Ô¨Åeld, R = k[[x1, x2, . . . , xd‚àí3, u, v, w]], C = R/(u, v, w) and
M = ‚Ñ¶2C, the second syzygy of C. Then M is (S2) and (M, M) is an abundant pair. So
the assumptions in Corollary 5.4 cannot be weakened.

Proof. Let q = pe. Then as in Example 5.5, we have

0

/ eM

/ e(R3)

/ eR

/ eC

R‚äï3qd

/ R‚äïqd

/ C ‚äïqd‚àí3

/ 0

/ 0

It follows that eM has exactly qd‚àí3 copies of M. Then as in Corollary 5.4, we have
lim inf e‚Üí‚àû q(Œ±(R)+d‚àí3)/be = qd‚àí3/qd‚àí3 = 1. Since M is a second syzygy, it is (S2). Since
depth C = d ‚àí 3, we have depth M = d ‚àí 1 6= d, so M is not free.
(cid:3)

6. Geometric applications

Discussion 6.0. Let (A, m) be a standard graded ring that is (S2) of dimension at least 2. We
Ô¨Årst Ô¨Åx some notation and record some results from [9, 16]. Let R = Am. Let X = Proj(A),
Y = Spec(R) \ {mm} and Z = Spec(R). Let Œπ : Y ‚Üí Z be the inclusion morphism. There

/
/
/
/
/
/
/
/
/
/
/
/
/
/
12

HAILONG DAO AND TONY SE

is also an aÔ¨Éne surjective morphism œÄ : Y ‚Üí X ([16, Proposition I.5]). Corollary I.6 of [16]
states that for every A-graded module M we have sheaf cohomology isomorphisms

‚äïd‚ààZH i(X, fM (d))

‚âÉ

‚àí‚Üí H i(Y,gMm|Y )

for i > 0. For 1 6 i 6 d ‚àí 1, we have H i(Y,gMm|Y ) ‚àº= H i+1

Let V (¬∑) denote the category of vector bundles over a scheme. Let Œì be the global section
functor. If G ‚àà V (Y ), then Œπ‚àóG is a coherent OZ-module. Let œà = Œì ‚ó¶ œÄ‚àó. Then we have
maps

m (Mm).

V (X) œÄ‚àó

‚àí‚Üí V (Y ) Œì‚àí‚Üí {M ‚àà Ref(R) | M is locally free on Y }

By [9, Theorem 1.3], depth Œì(G ) > 2. Œì satisÔ¨Åes the property Œì(G1 ‚äó G2) = (Œì(G1) ‚äóR
Œì(G2))‚àó‚àó. Let Fi ‚àà V (X), i = 1, 2, be indecomposable such that œà(Fi) are isomorphic up
to free summand. Then by [9, Proposition 9.5], F1

‚àº= F2(m) = F2 ‚äó OX(m) for some m.

DeÔ¨Ånition 6.1. ([4, Introduction]) Let X be a smooth projective variety deÔ¨Åned over a
Ô¨Åeld k of characteristic p > 0. Let œï : X ‚Üí X be the absolute Frobenius morphism. Then a
vector bundle F ‚àà V (X) is (e, f )-Frobenius periodic, or (e, f )-F periodic in short, if there
are e < f such that (œïe)‚àó(F ) ‚àº= (œïf )‚àó(F ).
Lemma 6.2. Suppose that F ‚àà V (X) is (e, f )-F periodic. Let X, Y be as in 6.0. Let
M = œà(F ). Then F is (e1, e2)-F periodic iÔ¨Ä M(e1) ‚àº= M(e2).
Proof. For ‚Äúonly if‚Äù, we have œà(cid:0)(œïe)‚àó(F )(cid:1) = œà(F ‚äó (œïe)‚àó(X)) = (cid:0)œà(F ) ‚äó (œïe)‚àó(X)(cid:1)‚àó‚àó

M(e) as in 6.0. The ‚Äúif‚Äù part comes from sheaÔ¨ÅÔ¨Åcation.

=
(cid:3)

Next, we discuss a generalization of one of the results in [18, Theorem 3.1]. For that we
need to recall some notation. Let R be a F -Ô¨Ånite normal domain and let D be a Q-divisor.
In the next result we are able to remove the condition that the characteristic p is coprime
to r as in [18, Theorem 3.1]. We follow the same trick as in [18], with a crucial diÔ¨Äerence
suggested by our approach in this paper: the reÔ¨Çexive module representing a torsion element
in the class group has Ô¨Ånite F -type.

Theorem 6.3. Let R be an F -Ô¨Ånite normal domain with perfect residue Ô¨Åeld and X =
Spec R. Let ‚àÜ be a Q-divisor on X such that the pair (X, ‚àÜ) is strongly F -regular. Let D
be an integral divisor such that rD ‚àº r‚àÜ‚Ä≤ for some integer r > 0 and 0 ‚â§ ‚àÜ‚Ä≤ ‚â§ ‚àÜ. Then
OX(‚àíD) is Cohen-Macaulay.
Proof. Since we also have that the pair (X, ‚àÜ‚Ä≤) is strongly F -regular, one may assume ‚àÜ‚Ä≤ =
‚àÜ. Now, this assumption implies that there is a decomposition of R-modules (q = pe) ([5,
Lemma 3.5]):

F e

‚àó

OX((q ‚àí 1)‚àÜ) = O ne

X ‚äï Ne

such that lim inf e‚Üí‚àû

ne
qd > 0. Twisting by OX(‚àíD), reÔ¨Çexifying, we get a decomposition:
F e

OX((q ‚àí 1)(‚àÜ ‚àí D) ‚àí D) = OX(‚àíD)ne ‚äï N ‚Ä≤
e

‚àó

The key point now is that as r(‚àÜ ‚àí D) ‚àº 0, there are only Ô¨Ånitely many isomorphism classes
of the modules OX((q ‚àí 1)(‚àÜ ‚àí D) ‚àí D). Let M be the direct sum of all these modules and
I = OX(‚àíD), what we have is precisely:

eM ‚àº= I ne ‚äï Pe

FINITE F -TYPE AND F -ABUNDANT MODULES

with lim inf e‚Üí‚àû

ne
qd > 0. Lemma 2.7 now forces I to be Cohen-Macaulay.

13

(cid:3)

The Ô¨Årst author would like to thank Kevin Tucker and Karl Schwede for patiently explain-

ing to him many basic facts on the subjects this note.

7. Acknowledgments

References

1. Twenty-Four Hours of Local Cohomology, S. Iyengar, G. J. Leuschke, A. Leykin, C. Miller, E. Miller, A.

K. Singh, U. Walther, American Mathematical Society, Providence, R.I., c2007.

2. Local Cohomology, M. P. Brodmann, R. Y. Sharp, Cambridge Studies in Advanced Mathematics 136,

Cambridge University Press, 2013.

3. I. M. Aberbach, F. Enescu, The Structure of F -Pure Rings, Math. Z. 250 (2005), no. 4, 791‚Äì806.
4. H. Brenner, A. Kaid, An Explicit Example of Frobenius Periodicity, J. Pure Appl. Algebra 217 (2013),

no. 8, 1412‚Äì1420.

5. M. Blickle, K. Schwede, K. Tucker, F -signature of Pairs and the Asymptotic Behavior of Frobenius

Splittings, Adv. in Math. 231 (2012), 3232‚Äì3258.

6. N. R. Baeth, R. Wiegand, Factorization Theory and Decompositions of Modules, American Mathematical

Monthly 120, no. 1 (January 2013), 3‚Äì34.

7. H. Dao, I. Smirnov, On Generalized Hilbert-Kunz Function and Multiplicity, arXiv:1305.1833.
8. K. R. Fuller, W. A. Shutters, Projective Modules over Non-commutative Semilocal Rings, Tohoku Math.

J. 27 (1975), no. 3, 303‚Äì311.

9. G. Horrocks, Vector Bundles on the Punctured Spectrum of a Local Ring, Proc. London Math. Soc. (3)

14 (1964), 689‚Äì713.

10. M. Hashimoto, Y. Nakajima, Generalized F -signature

of

invariant

subrings,

preprint

http://front.math.ucdavis.edu/1311.5963.

11. J. Horiuchi, L. E. Miller, K. Shimomoto, Appendix by K. Schwede, A. K. Singh, Deformation of F -

Injectivity and Local Cohomology, arXiv:1210.3589v3.

12. N. M. Katz, p-adic Properties of Modular Schemes and Modular Forms, Modular Functions of One
Variable, III (Proc. Internat. Summer School, Univ. Antwerp, Antwerp, 1972), 69‚Äì190. Lecture Notes in
Mathematics, 350, Springer, Berlin, 1973.

13. J. Koll¬¥ar, A Local Version of the Kawamata-Viehweg Vanishing Theorem, Pure Appl. Math. Q. 7 (2011),

no. 4, Special Issue: In memory of Eckart Viehweg, 1477‚Äì1494.

14. E. Kunz, On Noetherian Rings of Characteristic p, American J. of Math. 98 (Winter, 1976), no. 4,

999‚Äì1013.

15. V. B. Mehta, V. Srinivas, Varieties in Positive Characteristic with Trivial Tangent Bundle, Compositio

Mathematica 64.2 (1987), 191‚Äì212.

16. M. Majidi-Zolbanin, Splitting of Vector Bundles on Punctured Spectrum of Regular Local Rings, Doctoral

dissertation, the Graduate Center of the City University of New York (2005).

17. Y. Nakajima, Dual F -Signature of Special Cohen-Macaulay Modules over Cyclic Quotient Surface Sin-

gularities, arXiv:1311.5967v1.

18. Z. Patakfalvi, K. Schwede, Depth of F -singularities and Base Change of Relative Canonical Sheaves, J.

Inst. Math. Jussieu 13 (2014), no. 1, 43‚Äì63.

19. K. Smith, Globally F-regular Varieties: Applications to Vanishing Theorems for Quotients of Fano Va-

rieties, Michigan Math. J. 48 (2000), no. 1, 553‚Äì572.

20. K. Tucker, F -Signature Exists, Inventiones mathematicae 190 (2012), 743‚Äì765.
21. K. Watanabe, F-regular and F-pure normal graded rings, Journal of Pure and Applied Algebra 71 (1991),

341‚Äì350.

22. Y. Yao, Modules with Finite F -Representation Type, J. London Math. Soc. (2) 72 (2005), no. 1, 53‚Äì72.

14

HAILONG DAO AND TONY SE

Department of Mathematics, University of Kansas, Lawrence, KS 66045-7523 USA
E-mail address: hdao@ku.edu

Department of Mathematics, University of Kansas, Lawrence, KS 66045-7523 USA
E-mail address: tonyse@ku.edu

